<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Vue 基础 - Day07 | 前端笔记</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="在线笔记">
    
    <link rel="preload" href="/zz-web/assets/css/0.styles.c0bfc3b1.css" as="style"><link rel="preload" href="/zz-web/assets/js/app.083f945b.js" as="script"><link rel="preload" href="/zz-web/assets/js/2.f2240049.js" as="script"><link rel="preload" href="/zz-web/assets/js/27.1a9df948.js" as="script"><link rel="prefetch" href="/zz-web/assets/js/10.d5312b28.js"><link rel="prefetch" href="/zz-web/assets/js/11.2b6aa850.js"><link rel="prefetch" href="/zz-web/assets/js/12.2ab2992b.js"><link rel="prefetch" href="/zz-web/assets/js/13.edf2fe2f.js"><link rel="prefetch" href="/zz-web/assets/js/14.9f97b9d2.js"><link rel="prefetch" href="/zz-web/assets/js/15.0493a36c.js"><link rel="prefetch" href="/zz-web/assets/js/16.03213685.js"><link rel="prefetch" href="/zz-web/assets/js/17.73d68c4e.js"><link rel="prefetch" href="/zz-web/assets/js/18.12075e8a.js"><link rel="prefetch" href="/zz-web/assets/js/19.498e8181.js"><link rel="prefetch" href="/zz-web/assets/js/20.f2ff5235.js"><link rel="prefetch" href="/zz-web/assets/js/21.91a2fc69.js"><link rel="prefetch" href="/zz-web/assets/js/22.a727aa87.js"><link rel="prefetch" href="/zz-web/assets/js/23.380e54c9.js"><link rel="prefetch" href="/zz-web/assets/js/24.c12d12df.js"><link rel="prefetch" href="/zz-web/assets/js/25.8f557342.js"><link rel="prefetch" href="/zz-web/assets/js/26.b4ebb45d.js"><link rel="prefetch" href="/zz-web/assets/js/28.58b2b7c8.js"><link rel="prefetch" href="/zz-web/assets/js/29.872a74a7.js"><link rel="prefetch" href="/zz-web/assets/js/3.96bb5801.js"><link rel="prefetch" href="/zz-web/assets/js/30.e767d85b.js"><link rel="prefetch" href="/zz-web/assets/js/31.2a66bb00.js"><link rel="prefetch" href="/zz-web/assets/js/32.4b3ae917.js"><link rel="prefetch" href="/zz-web/assets/js/33.a0ee48f3.js"><link rel="prefetch" href="/zz-web/assets/js/34.b1e111ac.js"><link rel="prefetch" href="/zz-web/assets/js/35.70b67615.js"><link rel="prefetch" href="/zz-web/assets/js/36.c8a1f895.js"><link rel="prefetch" href="/zz-web/assets/js/37.7830b613.js"><link rel="prefetch" href="/zz-web/assets/js/38.aaaab44a.js"><link rel="prefetch" href="/zz-web/assets/js/39.5fe7a1ec.js"><link rel="prefetch" href="/zz-web/assets/js/4.c3d1ea14.js"><link rel="prefetch" href="/zz-web/assets/js/40.54e98467.js"><link rel="prefetch" href="/zz-web/assets/js/41.4dc705c1.js"><link rel="prefetch" href="/zz-web/assets/js/42.9c9fa6be.js"><link rel="prefetch" href="/zz-web/assets/js/43.2be21763.js"><link rel="prefetch" href="/zz-web/assets/js/44.e1c509f1.js"><link rel="prefetch" href="/zz-web/assets/js/45.3d0ca188.js"><link rel="prefetch" href="/zz-web/assets/js/46.c08d3f05.js"><link rel="prefetch" href="/zz-web/assets/js/47.5b9b3830.js"><link rel="prefetch" href="/zz-web/assets/js/48.8dd0953b.js"><link rel="prefetch" href="/zz-web/assets/js/49.fa9cde16.js"><link rel="prefetch" href="/zz-web/assets/js/5.095b1679.js"><link rel="prefetch" href="/zz-web/assets/js/50.dd3e5c49.js"><link rel="prefetch" href="/zz-web/assets/js/51.e93f43fb.js"><link rel="prefetch" href="/zz-web/assets/js/52.00aba65d.js"><link rel="prefetch" href="/zz-web/assets/js/53.2e7de842.js"><link rel="prefetch" href="/zz-web/assets/js/54.9624d966.js"><link rel="prefetch" href="/zz-web/assets/js/6.dd5c96ae.js"><link rel="prefetch" href="/zz-web/assets/js/7.29dbb4cd.js"><link rel="prefetch" href="/zz-web/assets/js/8.dc4bd71f.js"><link rel="prefetch" href="/zz-web/assets/js/9.81b641cc.js">
    <link rel="stylesheet" href="/zz-web/assets/css/0.styles.c0bfc3b1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/zz-web/" class="home-link router-link-active"><img src="./logo.png" alt="前端笔记" class="logo"> <span class="site-name can-hide">前端笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/zz-web/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="课程笔记" class="dropdown-title"><span class="title">课程笔记</span> <span class="arrow down"></span></button> <button type="button" aria-label="课程笔记" class="mobile-dropdown-title"><span class="title">课程笔记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          课程笔记
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/zz-web/study/webAPI/day01/01.html" class="nav-link">
  WebApi
</a></li><li class="dropdown-subitem"><a href="/zz-web/study/JS基础/js-day01/01.html" class="nav-link">
  JS基础
</a></li><li class="dropdown-subitem"><a href="/zz-web/study/Jquery/day01/01.html" class="nav-link">
  Jquery
</a></li><li class="dropdown-subitem"><a href="/zz-web/study/Eacharts/day01/01.html" class="nav-link">
  数据可视化
</a></li><li class="dropdown-subitem"><a href="/zz-web/study/Js高级/day01/JavaScript高级第01天笔记.html" class="nav-link">
  JS高级
</a></li><li class="dropdown-subitem"><a href="/zz-web/study/AJAX/day01/01.html" class="nav-link">
  Ajax
</a></li><li class="dropdown-subitem"><a href="/zz-web/study/Git/day01/01.html" class="nav-link">
  Git
</a></li><li class="dropdown-subitem"><a href="/zz-web/study/BigEvent/day01/01.html" class="nav-link">
  大事件
</a></li><li class="dropdown-subitem"><a href="/zz-web/study/NodeJs/day01/01.html" class="nav-link">
  NodeJs
</a></li><li class="dropdown-subitem"><a href="/zz-web/study/Vue基础/Day01/01.html" class="nav-link">
  Vue基础
</a></li></ul></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/zz-web/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="课程笔记" class="dropdown-title"><span class="title">课程笔记</span> <span class="arrow down"></span></button> <button type="button" aria-label="课程笔记" class="mobile-dropdown-title"><span class="title">课程笔记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          课程笔记
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/zz-web/study/webAPI/day01/01.html" class="nav-link">
  WebApi
</a></li><li class="dropdown-subitem"><a href="/zz-web/study/JS基础/js-day01/01.html" class="nav-link">
  JS基础
</a></li><li class="dropdown-subitem"><a href="/zz-web/study/Jquery/day01/01.html" class="nav-link">
  Jquery
</a></li><li class="dropdown-subitem"><a href="/zz-web/study/Eacharts/day01/01.html" class="nav-link">
  数据可视化
</a></li><li class="dropdown-subitem"><a href="/zz-web/study/Js高级/day01/JavaScript高级第01天笔记.html" class="nav-link">
  JS高级
</a></li><li class="dropdown-subitem"><a href="/zz-web/study/AJAX/day01/01.html" class="nav-link">
  Ajax
</a></li><li class="dropdown-subitem"><a href="/zz-web/study/Git/day01/01.html" class="nav-link">
  Git
</a></li><li class="dropdown-subitem"><a href="/zz-web/study/BigEvent/day01/01.html" class="nav-link">
  大事件
</a></li><li class="dropdown-subitem"><a href="/zz-web/study/NodeJs/day01/01.html" class="nav-link">
  NodeJs
</a></li><li class="dropdown-subitem"><a href="/zz-web/study/Vue基础/Day01/01.html" class="nav-link">
  Vue基础
</a></li></ul></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/zz-web/study/Vue基础/Day01/01.html" class="sidebar-link">Vue 基础 - Day01</a></li><li><a href="/zz-web/study/Vue基础/Day02/02.html" class="sidebar-link">Vue 基础 - Day02</a></li><li><a href="/zz-web/study/Vue基础/Day03/03.html" class="sidebar-link">Vue 基础 - Day03</a></li><li><a href="/zz-web/study/Vue基础/Day04/04.html" class="sidebar-link">Vue 基础 - Day04</a></li><li><a href="/zz-web/study/Vue基础/Day05/05.html" class="sidebar-link">Vue 基础 - Day05</a></li><li><a href="/zz-web/study/Vue基础/Day06/06.html" class="sidebar-link">Vue 基础 - Day06</a></li><li><a href="/zz-web/study/Vue基础/Day07/07.html" class="active sidebar-link">Vue 基础 - Day07</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zz-web/study/Vue基础/Day07/07.html#知识点自测" class="sidebar-link">知识点自测</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/Vue基础/Day07/07.html#今日学习目标" class="sidebar-link">今日学习目标</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/Vue基础/Day07/07.html#_1-vue-路由简介和基础使用" class="sidebar-link">1. vue 路由简介和基础使用</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/Vue基础/Day07/07.html#_1-0-什么是路由" class="sidebar-link">1.0 什么是路由</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/Vue基础/Day07/07.html#_1-1-为什么使用路由" class="sidebar-link">1.1 为什么使用路由</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/Vue基础/Day07/07.html#_1-2-vue-router-介绍" class="sidebar-link">1.2 vue-router 介绍</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/Vue基础/Day07/07.html#_1-3-路由-组件分类" class="sidebar-link">1.3 路由 - 组件分类</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/Vue基础/Day07/07.html#_1-4-vue-router-使用" class="sidebar-link">1.4 vue-router 使用</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/Vue基础/Day07/07.html#_2-vue-路由-声明式导航" class="sidebar-link">2. vue 路由 - 声明式导航</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/Vue基础/Day07/07.html#_2-0-声明式导航-基础使用" class="sidebar-link">2.0 声明式导航 - 基础使用</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/Vue基础/Day07/07.html#_2-1-声明式导航-跳转传参" class="sidebar-link">2.1 声明式导航 - 跳转传参</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/Vue基础/Day07/07.html#_3-vue-路由-重定向和模式" class="sidebar-link">3. vue 路由 - 重定向和模式</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/Vue基础/Day07/07.html#_3-0-路由-重定向" class="sidebar-link">3.0 路由 - 重定向</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/Vue基础/Day07/07.html#_3-1-路由-404-页面" class="sidebar-link">3.1 路由 - 404 页面</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/Vue基础/Day07/07.html#_3-2-路由-模式设置" class="sidebar-link">3.2 路由 - 模式设置</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/Vue基础/Day07/07.html#_4-vue-路由-编程式导航" class="sidebar-link">4. vue 路由 - 编程式导航</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/Vue基础/Day07/07.html#_4-1-编程式导航-跳转传参" class="sidebar-link">4.1 编程式导航 - 跳转传参</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/Vue基础/Day07/07.html#_5-vue-路由-嵌套和守卫" class="sidebar-link">5. vue 路由 - 嵌套和守卫</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/Vue基础/Day07/07.html#_5-0-vue-路由-路由嵌套" class="sidebar-link">5.0 vue 路由 - 路由嵌套</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/Vue基础/Day07/07.html#_5-1-声明导航-类名区别" class="sidebar-link">5.1 声明导航 - 类名区别</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/Vue基础/Day07/07.html#_5-2-全局前置守卫" class="sidebar-link">5.2 全局前置守卫</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/Vue基础/Day07/07.html#补充知识" class="sidebar-link">补充知识</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/Vue基础/Day07/07.html#_1-vant-组件库" class="sidebar-link">1. vant 组件库</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/Vue基础/Day07/07.html#_1-0-vant-组件库-介绍" class="sidebar-link">1.0 vant 组件库-介绍</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/Vue基础/Day07/07.html#_1-1-全部引入" class="sidebar-link">1.1 全部引入</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/Vue基础/Day07/07.html#_1-2-手动按需引入" class="sidebar-link">1.2 手动按需引入</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/Vue基础/Day07/07.html#_1-3-自动按需引入" class="sidebar-link">1.3 自动按需引入</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/Vue基础/Day07/07.html#_1-4-弹出框使用" class="sidebar-link">1.4 弹出框使用</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/Vue基础/Day07/07.html#_1-5-表单使用" class="sidebar-link">1.5 表单使用</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/Vue基础/Day07/07.html#今日总结" class="sidebar-link">今日总结</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/Vue基础/Day07/07.html#面试题" class="sidebar-link">面试题</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/Vue基础/Day07/07.html#_1-路由之间是怎么跳转的-有哪些方式" class="sidebar-link">1. 路由之间是怎么跳转的？有哪些方式</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/Vue基础/Day07/07.html#_2-vue-router-怎么配置路由" class="sidebar-link">2. vue-router 怎么配置路由</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/Vue基础/Day07/07.html#_3-vue-router-的钩子函数都有哪些" class="sidebar-link">3. vue-router 的钩子函数都有哪些</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/Vue基础/Day07/07.html#_4-路由传值的方式有哪几种" class="sidebar-link">4. 路由传值的方式有哪几种</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/Vue基础/Day07/07.html#_7-请说出路由配置项常用的属性及作用-必会" class="sidebar-link">7. 请说出路由配置项常用的属性及作用（必会）</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/Vue基础/Day07/07.html#_8-编程式导航使用的方法以及常用的方法-必会" class="sidebar-link">8. 编程式导航使用的方法以及常用的方法（必会）</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/Vue基础/Day07/07.html#_9-vue-如何去除-url-中的-必会" class="sidebar-link">9. Vue 如何去除 URL 中的#（必会）</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/Vue基础/Day07/07.html#_10-说一下你在-vue-中踩过的坑-必会" class="sidebar-link">10. 说一下你在 vue 中踩过的坑（必会）</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/Vue基础/Day07/07.html#_11-route和-router-的区别" class="sidebar-link">11. $route和$router 的区别？</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/Vue基础/Day07/07.html#附加练习-1-切换页面" class="sidebar-link">附加练习_1.切换页面</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/Vue基础/Day07/07.html#附加练习-2-二级路由嵌套" class="sidebar-link">附加练习_2.二级路由嵌套</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/Vue基础/Day07/07.html#附加练习-3-tabbar-切换" class="sidebar-link">附加练习_3-tabbar 切换</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/Vue基础/Day07/07.html#今日作业" class="sidebar-link">今日作业</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/Vue基础/Day07/07.html#三级路由嵌套" class="sidebar-link">三级路由嵌套</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/Vue基础/Day07/07.html#额外扩展" class="sidebar-link">额外扩展</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/Vue基础/Day07/07.html#路由-工作原理手写" class="sidebar-link">路由 - 工作原理手写</a></li></ul></li><li><a href="/zz-web/study/Vue基础/Day08/08.html" class="sidebar-link">Vue 基础 - Day08</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="vue-基础-day07"><a href="#vue-基础-day07" class="header-anchor">#</a> Vue 基础 - Day07</h1> <h2 id="知识点自测"><a href="#知识点自测" class="header-anchor">#</a> 知识点自测</h2> <ul><li>[ ] url 的组成部分都有哪些, hash 值指的什么</li></ul> <h2 id="今日学习目标"><a href="#今日学习目标" class="header-anchor">#</a> 今日学习目标</h2> <ol><li>能够了解单页面应用概念和优缺点</li> <li>能够掌握 vue-router 路由系统使用</li> <li>能够掌握链接导航和编程式导航用法</li> <li>能够掌握路由嵌套和路由守卫</li> <li>能够掌握 vant 组件库基础使用</li></ol> <h2 id="_1-vue-路由简介和基础使用"><a href="#_1-vue-路由简介和基础使用" class="header-anchor">#</a> 1. vue 路由简介和基础使用</h2> <h2 id="_1-0-什么是路由"><a href="#_1-0-什么是路由" class="header-anchor">#</a> 1.0 什么是路由</h2> <blockquote><p>目标: 设备和 ip 的映射关系</p></blockquote> <p><img src="/zz-web/assets/img/image-20210512095742920.0c1a7323.png" alt="image-20210512095742920"></p> <blockquote><p>目标: 接口和服务的映射关系</p></blockquote> <p><img src="/zz-web/assets/img/image-20210512095805578.725b1026.png" alt="image-20210512095805578"></p> <blockquote><p>目标: 路径和组件的映射关系</p></blockquote> <p><img src="/zz-web/assets/img/image-20210512095825389.19f73b63.png" alt="image-20210512095825389"></p> <h2 id="_1-1-为什么使用路由"><a href="#_1-1-为什么使用路由" class="header-anchor">#</a> 1.1 为什么使用路由</h2> <blockquote><p>目标: 在一个页面里, 切换业务场景</p></blockquote> <p>具体使用示例: 网易云音乐 https://music.163.com/</p> <p>单页面应用(SPA): 所有功能在一个 html 页面上实现</p> <p>前端路由作用: 实现业务场景切换</p> <p>优点：</p> <ul><li><p>整体不刷新页面，用户体验更好</p></li> <li><p>数据传递容易, 开发效率高</p></li></ul> <p>缺点：</p> <ul><li><p>开发成本高(需要学习专门知识)</p></li> <li><p>首次加载会比较慢一点。不利于 seo</p></li></ul> <h2 id="_1-2-vue-router-介绍"><a href="#_1-2-vue-router-介绍" class="header-anchor">#</a> 1.2 vue-router 介绍</h2> <blockquote><p>目标: 如何在 Vue 项目中集成路由</p></blockquote> <p>官网: https://router.vuejs.org/zh/</p> <p>vue-router 模块包</p> <p>它和 Vue.js 深度集成</p> <p>可以定义 - 视图表(映射规则)</p> <p>模块化的</p> <p>提供 2 个内置全局组件</p> <p>声明式导航自动激活的 CSS class 的链接</p> <p>……</p> <h2 id="_1-3-路由-组件分类"><a href="#_1-3-路由-组件分类" class="header-anchor">#</a> 1.3 路由 - 组件分类</h2> <blockquote><p>目标: .vue 文件分 2 类, 一个是页面组件, 一个是复用组件</p></blockquote> <p>.vue 文件本质无区别, 方便大家学习和理解, 总结的一个经验</p> <p>src/views(或 pages) 文件夹 和 src/components 文件夹</p> <ul><li>页面组件 - 页面展示 - 配合路由用</li> <li>复用组件 - 展示数据/常用于复用</li></ul> <p><img src="/zz-web/assets/img/image-20210424215930981.4af20d49.png" alt="image-20210424215930981"></p> <blockquote><p>总结: views 下的页面组件, 配合路由切换, components 下的一般引入到 views 下的 vue 中复用展示数据</p></blockquote> <h2 id="_1-4-vue-router-使用"><a href="#_1-4-vue-router-使用" class="header-anchor">#</a> 1.4 vue-router 使用</h2> <blockquote><p>目标: 学会 vue 官方提供的 vue-router 路由系统功能模块使用</p></blockquote> <p>App.vue - 页面标签和样式准备(==可复制继续写==)</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>footer_wrap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#/find<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>发现音乐<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#/my<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>我的音乐<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#/part<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>朋友<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>top<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.footer_wrap</span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span>
  <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #333<span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> #ccc<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.footer_wrap a</span> <span class="token punctuation">{</span>
  <span class="token property">flex</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
  <span class="token property">text-decoration</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 20px 0<span class="token punctuation">;</span>
  <span class="token property">line-height</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #333<span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> #ccc<span class="token punctuation">;</span>
  <span class="token property">border</span><span class="token punctuation">:</span> 1px solid black<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.footer_wrap a:hover</span> <span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #555<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.top</span> <span class="token punctuation">{</span>
  <span class="token property">padding-top</span><span class="token punctuation">:</span> 62px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br></div></div><p><a href="https://router.vuejs.org/zh/" target="_blank" rel="noopener noreferrer">vue-router 文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ul><li>安装</li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> vue-router
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>导入路由</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> VueRouter <span class="token keyword">from</span> <span class="token string">&quot;vue-router&quot;</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>使用路由插件</li></ul> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// 在vue中，使用使用vue的插件，都需要调用Vue.use()</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>VueRouter<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>创建路由规则数组</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> routes <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">&quot;/find&quot;</span><span class="token punctuation">,</span>
    component<span class="token operator">:</span> Find<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">&quot;/my&quot;</span><span class="token punctuation">,</span>
    component<span class="token operator">:</span> My<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">&quot;/part&quot;</span><span class="token punctuation">,</span>
    component<span class="token operator">:</span> Part<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><ul><li>创建路由对象 - 传入规则</li></ul> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  routes<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>关联到 vue 实例</li></ul> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  router<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>components 换成 router-view</li></ul> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-view</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p>总结: 下载路由模块, 编写对应规则注入到 vue 实例上, 使用 router-view 挂载点显示切换的路由</p> <p>总结 2: 一切都围绕着 hash 值变化为准</p></blockquote> <h2 id="_2-vue-路由-声明式导航"><a href="#_2-vue-路由-声明式导航" class="header-anchor">#</a> 2. vue 路由 - 声明式导航</h2> <h2 id="_2-0-声明式导航-基础使用"><a href="#_2-0-声明式导航-基础使用" class="header-anchor">#</a> 2.0 声明式导航 - 基础使用</h2> <blockquote><p>目标: 可用全局组件 router-link 来替代 a 标签</p></blockquote> <ol><li>vue-router 提供了一个全局组件 router-link</li> <li>router-link 实质上最终会渲染成 a 链接 to 属性等价于提供 href 属性(to 无需#)</li> <li>router-link 提供了声明式导航高亮的功能(自带类名)</li></ol> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>footer_wrap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/find<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>发现音乐<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/my<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>我的音乐<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/part<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>朋友<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>top<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-view</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token comment">/* 省略了 其他样式 */</span>
<span class="token selector">.footer_wrap .router-link-active</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span>
  <span class="token property">background</span><span class="token punctuation">:</span> black<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><blockquote><p>总结: 链接导航, 用 router-link 配合 to, 实现点击切换路由</p></blockquote> <h2 id="_2-1-声明式导航-跳转传参"><a href="#_2-1-声明式导航-跳转传参" class="header-anchor">#</a> 2.1 声明式导航 - 跳转传参</h2> <blockquote><p>目标: 在跳转路由时, 可以给路由对应的组件内传值</p></blockquote> <p>在 router-link 上的 to 属性传值, 语法格式如下</p> <ul><li><p>/path?参数名=值</p></li> <li><p>/path/值 – 需要路由对象提前配置 path: “/path/参数名”</p></li></ul> <p>对应页面组件接收传递过来的值</p> <ul><li><p>$route.query.参数名</p></li> <li><p>$route.params.参数名</p></li></ul> <ol><li><p>创建 components/Part.vue - 准备接收路由上传递的参数和值</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>关注明星<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>发现精彩<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>寻找伙伴<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>加入我们<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>人名: {{ $route.query.name }} -- {{ $route.params.username }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></li> <li><p>路由定义</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">&quot;/part&quot;</span><span class="token punctuation">,</span>
    component<span class="token operator">:</span> Part
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">&quot;/part/:username&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 有:的路径代表要接收具体的值</span>
    component<span class="token operator">:</span> Part
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li> <li><p>导航跳转, 传值给 MyGoods.vue 组件</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/part?name=小传<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>朋友-小传<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/part/小智<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>朋友-小智<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ol> <blockquote><p>总结:</p> <p>?key=value 用$route.query.key 取值</p> <p>/值 提前在路由规则/path/:key 用$route.params.key 取值</p></blockquote> <h2 id="_3-vue-路由-重定向和模式"><a href="#_3-vue-路由-重定向和模式" class="header-anchor">#</a> 3. vue 路由 - 重定向和模式</h2> <h2 id="_3-0-路由-重定向"><a href="#_3-0-路由-重定向" class="header-anchor">#</a> 3.0 路由 - 重定向</h2> <blockquote><p>目标: 匹配 path 后, 强制切换到目标 path 上</p></blockquote> <ul><li>网页打开 url 默认 hash 值是/路径</li> <li>redirect 是设置要重定向到哪个路由路径</li></ul> <p>例如: 网页默认打开, 匹配路由&quot;/&quot;, 强制切换到&quot;/find&quot;上</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> routes <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 默认hash值路径</span>
    redirect<span class="token operator">:</span> <span class="token string">&quot;/find&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 重定向到/find</span>
    <span class="token comment">// 浏览器url中#后的路径被改变成/find-重新匹配数组规则</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><blockquote><p>总结: 强制重定向后, 还会重新来数组里匹配一次规则</p></blockquote> <h2 id="_3-1-路由-404-页面"><a href="#_3-1-路由-404-页面" class="header-anchor">#</a> 3.1 路由 - 404 页面</h2> <blockquote><p>目标: 如果路由 hash 值, 没有和数组里规则匹配</p></blockquote> <p>默认给一个 404 页面</p> <p>语法: 路由最后, path 匹配*(任意路径) – 前面不匹配就命中最后这个, 显示对应组件页面</p> <ol><li><p>创建 NotFound 页面</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>../assets/404.png<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">img</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div></li> <li><p>在 main.js - 修改路由配置</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> NotFound <span class="token keyword">from</span> <span class="token string">&quot;@/views/NotFound&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> routes <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token comment">// ...省略了其他配置</span>
  <span class="token comment">// 404在最后(规则是从前往后逐个比较path)</span>
  <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">&quot;*&quot;</span><span class="token punctuation">,</span>
    component<span class="token operator">:</span> NotFound<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></li></ol> <blockquote><p>总结: 如果路由未命中任何规则, 给出一个兜底的 404 页面</p></blockquote> <h2 id="_3-2-路由-模式设置"><a href="#_3-2-路由-模式设置" class="header-anchor">#</a> 3.2 路由 - 模式设置</h2> <blockquote><p>目标: 修改路由在地址栏的模式</p></blockquote> <p>hash 路由例如: http://localhost:8080/#/home</p> <p>history 路由例如: http://localhost:8080/home (以后上线需要服务器端支持, 否则找的是文件夹)</p> <p><a href="https://router.vuejs.org/zh/api/#mode" target="_blank" rel="noopener noreferrer">模式文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>router/index.js</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  routes<span class="token punctuation">,</span>
  mode<span class="token operator">:</span> <span class="token string">&quot;history&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 打包上线后需要后台支持, 模式是hash</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="_4-vue-路由-编程式导航"><a href="#_4-vue-路由-编程式导航" class="header-anchor">#</a> 4. vue 路由 - 编程式导航</h2> <blockquote><p>用 JS 代码跳转, 声明式导航用 a 标签</p></blockquote> <h3 id="_4-0-编程式导航-基础使用"><a href="#_4-0-编程式导航-基础使用" class="header-anchor">#</a> 4.0 编程式导航 - 基础使用</h3> <blockquote><p>目标: 用 JS 代码来进行跳转</p></blockquote> <p>语法:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  path<span class="token operator">:</span> <span class="token string">&quot;路由路径&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 都去 router/index.js定义</span>
  name<span class="token operator">:</span> <span class="token string">&quot;路由名&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ol><li>main.js - 路由数组里, 给路由起名字</li></ol> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">&quot;/find&quot;</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">&quot;Find&quot;</span><span class="token punctuation">,</span>
    component<span class="token operator">:</span> Find
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">&quot;/my&quot;</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">&quot;My&quot;</span><span class="token punctuation">,</span>
    component<span class="token operator">:</span> My
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">&quot;/part&quot;</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">&quot;Part&quot;</span><span class="token punctuation">,</span>
    component<span class="token operator">:</span> Part
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><ol start="2"><li>App.vue - 换成 span 配合 js 的编程式导航跳转</li></ol> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>footer_wrap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn(<span class="token punctuation">'</span>/find<span class="token punctuation">'</span>, <span class="token punctuation">'</span>Find<span class="token punctuation">'</span>)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>发现音乐<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn(<span class="token punctuation">'</span>/my<span class="token punctuation">'</span>, <span class="token punctuation">'</span>My<span class="token punctuation">'</span>)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>我的音乐<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn(<span class="token punctuation">'</span>/part<span class="token punctuation">'</span>, <span class="token punctuation">'</span>Part<span class="token punctuation">'</span>)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>朋友<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>top<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-view</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token comment">// 目标: 编程式导航 - js方式跳转路由</span>
<span class="token comment">// 语法:</span>
<span class="token comment">// this.$router.push({path: &quot;路由路径&quot;})</span>
<span class="token comment">// this.$router.push({name: &quot;路由名&quot;})</span>
<span class="token comment">// 注意:</span>
<span class="token comment">// 虽然用name跳转, 但是url的hash值还是切换path路径值</span>
<span class="token comment">// 场景:</span>
<span class="token comment">// 方便修改: name路由名(在页面上看不见随便定义)</span>
<span class="token comment">// path可以在url的hash值看到(尽量符合组内规范)</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">btn</span><span class="token punctuation">(</span><span class="token parameter">targetPath<span class="token punctuation">,</span> targetName</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 方式1: path跳转</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token comment">// path: targetPath,</span>
        name<span class="token operator">:</span> targetName<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><h2 id="_4-1-编程式导航-跳转传参"><a href="#_4-1-编程式导航-跳转传参" class="header-anchor">#</a> 4.1 编程式导航 - 跳转传参</h2> <blockquote><p>目标: JS 跳转路由, 传参</p></blockquote> <p>语法 query / params 任选 一个</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">&quot;路由路径&quot;</span>
    name<span class="token operator">:</span> <span class="token string">&quot;路由名&quot;</span><span class="token punctuation">,</span>
    query<span class="token operator">:</span> <span class="token punctuation">{</span>
    	<span class="token string">&quot;参数名&quot;</span><span class="token operator">:</span> 值
    <span class="token punctuation">}</span>
    params<span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token string">&quot;参数名&quot;</span><span class="token operator">:</span> 值
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 对应路由接收   $route.params.参数名   取值</span>
<span class="token comment">// 对应路由接收   $route.query.参数名    取值</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>==格外注意: 使用 path 会自动忽略 params==</p> <p>App.vue</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>footer_wrap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn(<span class="token punctuation">'</span>/find<span class="token punctuation">'</span>, <span class="token punctuation">'</span>Find<span class="token punctuation">'</span>)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>发现音乐<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn(<span class="token punctuation">'</span>/my<span class="token punctuation">'</span>, <span class="token punctuation">'</span>My<span class="token punctuation">'</span>)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>我的音乐<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>oneBtn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>朋友-小传<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>twoBtn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>朋友-小智<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>top<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-view</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token comment">// 目标: 编程式导航 - 跳转路由传参</span>
<span class="token comment">// 方式1:</span>
<span class="token comment">// params =&gt; $route.params.参数名</span>
<span class="token comment">// 方式2:</span>
<span class="token comment">// query =&gt; $route.query.参数名</span>
<span class="token comment">// 重要: path会自动忽略params</span>
<span class="token comment">// 推荐: name+query方式传参</span>
<span class="token comment">// 注意: 如果当前url上&quot;hash值和?参数&quot;与你要跳转到的&quot;hash值和?参数&quot;一致, 爆出冗余导航的问题, 不会跳转路由</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">btn</span><span class="token punctuation">(</span><span class="token parameter">targetPath<span class="token punctuation">,</span> targetName</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 方式1: path跳转</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token comment">// path: targetPath,</span>
        name<span class="token operator">:</span> targetName<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">oneBtn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">&quot;Part&quot;</span><span class="token punctuation">,</span>
        params<span class="token operator">:</span> <span class="token punctuation">{</span>
          username<span class="token operator">:</span> <span class="token string">&quot;小传&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">twoBtn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">&quot;Part&quot;</span><span class="token punctuation">,</span>
        query<span class="token operator">:</span> <span class="token punctuation">{</span>
          name<span class="token operator">:</span> <span class="token string">&quot;小智&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br></div></div><blockquote><p>总结: 传参 2 种方式</p> <p>query 方式</p> <p>params 方式</p></blockquote> <h2 id="_5-vue-路由-嵌套和守卫"><a href="#_5-vue-路由-嵌套和守卫" class="header-anchor">#</a> 5. vue 路由 - 嵌套和守卫</h2> <h2 id="_5-0-vue-路由-路由嵌套"><a href="#_5-0-vue-路由-路由嵌套" class="header-anchor">#</a> 5.0 vue 路由 - 路由嵌套</h2> <blockquote><p>目标: 在现有的一级路由下, 再嵌套二级路由</p></blockquote> <p><a href="https://music.163.com/" target="_blank" rel="noopener noreferrer">二级路由示例-网易云音乐-发现音乐下<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>router-view 嵌套架构图</p> <ol><li><p>创建需要用的所有组件</p> <p>src/views/Find.vue -- 发现音乐页</p> <p>src/views/My.vue -- 我的音乐页</p> <p>src/views/Second/Recommend.vue -- 发现音乐页 / 推荐页面</p> <p>src/views/Second/Ranking.vue -- 发现音乐页 / 排行榜页面</p> <p>src/views/Second/SongList.vue -- 发现音乐页 / 歌单页面</p></li> <li><p>main.js– 继续配置 2 级路由</p> <p>一级路由 path 从/开始定义</p> <p>二级路由往后 path 直接写名字, 无需/开头</p> <p>嵌套路由在上级路由的 children 数组里编写路由信息对象</p></li> <li><p>说明：</p> <p>App.vue 的 router-view 负责发现音乐和我的音乐页面, 切换</p> <p>Find.vue 的的 router-view 负责发现音乐下的, 三个页面, 切换</p></li></ol> <p><img src="/zz-web/assets/img/image-20210116162013983.0e6a15f6.png" alt="image-20210116162013983"></p> <ol><li>配置二级导航和样式(==可直接复制==) - 在 Find.vue 中</li></ol> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- &lt;p&gt;推荐&lt;/p&gt;
    &lt;p&gt;排行榜&lt;/p&gt;
    &lt;p&gt;歌单&lt;/p&gt; --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>nav_main<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/find/recommend<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>推荐<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/find/ranking<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>排行榜<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/find/songlist<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>歌单<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css">1px solid red<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-view</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.nav_main</span> <span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 10px 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.nav_main a</span> <span class="token punctuation">{</span>
  <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
  <span class="token property">text-decoration</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 12px<span class="token punctuation">;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> 7px 17px 0<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 0px 15px 2px 15px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
  <span class="token property">line-height</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
  <span class="token property">border-radius</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.nav_main a:hover</span> <span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> brown<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.nav_main .router-link-active</span> <span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> brown<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br></div></div><ol start="2"><li>配置路由规则-二级路由展示</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> routes <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token comment">// ...省略其他</span>
  <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">&quot;/find&quot;</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">&quot;Find&quot;</span><span class="token punctuation">,</span>
    component<span class="token operator">:</span> Find<span class="token punctuation">,</span>
    children<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        path<span class="token operator">:</span> <span class="token string">&quot;recommend&quot;</span><span class="token punctuation">,</span>
        component<span class="token operator">:</span> Recommend<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        path<span class="token operator">:</span> <span class="token string">&quot;ranking&quot;</span><span class="token punctuation">,</span>
        component<span class="token operator">:</span> Ranking<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        path<span class="token operator">:</span> <span class="token string">&quot;songlist&quot;</span><span class="token punctuation">,</span>
        component<span class="token operator">:</span> SongList<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// ...省略其他</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><ol start="3"><li>说明：</li></ol> <ul><li><p>App.vue, 外层的 router-view 负责发现音乐和我的音乐页面切换</p></li> <li><p>Find.vue 内层的 router-view 负责发现音乐下的子 tab 对应的组件切换</p></li></ul> <ol start="4"><li>运行 - 点击导航观察嵌套路由在哪里展示</li></ol> <blockquote><p>总结: 嵌套路由, 找准在哪个页面里写 router-view 和对应规则里写 children</p></blockquote> <h2 id="_5-1-声明导航-类名区别"><a href="#_5-1-声明导航-类名区别" class="header-anchor">#</a> 5.1 声明导航 - 类名区别</h2> <blockquote><p>目标: router-link 自带的 2 个类名的区别是什么</p></blockquote> <p>观察路由嵌套导航的样式</p> <ul><li><p>router-link-exact-active (精确匹配) url 中 hash 值路径, 与 href 属性值完全相同, 设置此类名</p></li> <li><p>router-link-active (模糊匹配) url 中 hash 值, 包含 href 属性值这个路径</p></li></ul> <p><img src="/zz-web/assets/img/image-20210512102829250.7a29db60.png" alt="image-20210512102829250"></p> <h2 id="_5-2-全局前置守卫"><a href="#_5-2-全局前置守卫" class="header-anchor">#</a> 5.2 全局前置守卫</h2> <blockquote><p>目标: 路由跳转之前, 先执行一次前置守卫函数, 判断是否可以正常跳转</p></blockquote> <p>使用例子: 在跳转路由前, 判断用户登陆了才能去&lt;我的音乐&gt;页面, 未登录弹窗提示回到发现音乐页面</p> <ol><li>在路由对象上使用固定方法 beforeEach</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 目标: 路由守卫</span>
<span class="token comment">// 场景: 当你要对路由权限判断时</span>
<span class="token comment">// 语法: router.beforeEach((to, from, next)=&gt;{//路由跳转&quot;之前&quot;先执行这里, 决定是否跳转})</span>
<span class="token comment">// 参数1: 要跳转到的路由 (路由对象信息)    目标</span>
<span class="token comment">// 参数2: 从哪里跳转的路由 (路由对象信息)  来源</span>
<span class="token comment">// 参数3: 函数体 - next()才会让路由正常的跳转切换, next(false)在原地停留, next(&quot;强制修改到另一个路由路径上&quot;)</span>
<span class="token comment">// 注意: 如果不调用next, 页面留在原地</span>

<span class="token comment">// 例子: 判断用户是否登录, 是否决定去&quot;我的音乐&quot;/my</span>
<span class="token keyword">const</span> isLogin <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// 登录状态(未登录)</span>
router<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> from<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>to<span class="token punctuation">.</span>path <span class="token operator">===</span> <span class="token string">&quot;/my&quot;</span> <span class="token operator">&amp;&amp;</span> isLogin <span class="token operator">===</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;请登录&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">next</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 阻止路由跳转</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 正常放行</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><blockquote><p>总结: next()放行, next(false)留在原地不跳转路由, next(path 路径)强制换成对应 path 路径跳转</p></blockquote> <h2 id="补充知识"><a href="#补充知识" class="header-anchor">#</a> 补充知识</h2> <h2 id="_1-vant-组件库"><a href="#_1-vant-组件库" class="header-anchor">#</a> 1. vant 组件库</h2> <h2 id="_1-0-vant-组件库-介绍"><a href="#_1-0-vant-组件库-介绍" class="header-anchor">#</a> 1.0 vant 组件库-介绍</h2> <blockquote><p>目标: vant 是一个轻量、可靠的移动端 Vue 组件库, 开箱即用</p></blockquote> <p><a href="https://vant-contrib.gitee.io/vant/#/zh-CN/" target="_blank" rel="noopener noreferrer">vant 官网<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>特点:</p> <ul><li>提供 60 多个高质量组件，覆盖移动端各类场景</li> <li>性能极佳，组件平均体积不到 1kb</li> <li>完善的中英文文档和示例</li> <li>支持 Vue 2 &amp; Vue 3</li> <li>支持按需引入和主题定制</li></ul> <h2 id="_1-1-全部引入"><a href="#_1-1-全部引入" class="header-anchor">#</a> 1.1 全部引入</h2> <blockquote><p>目标: 看官网文档, 下载, 引入 vant 组件库</p></blockquote> <p>全部引入, 快速开始:https://vant-contrib.gitee.io/vant/#/zh-CN/quickstart</p> <p>1.全部引入, 快速开始: <a href="https://vant-contrib.gitee.io/vant/" target="_blank" rel="noopener noreferrer">https://vant-contrib.gitee.io/vant/#/zh-CN/quickstart<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>2.下载 Vant 组件库到当前项目中</p> <p>3.在 main.js 中全局导入所有组件,</p> <p>4.使用按钮组件 – 作为示范的例子</p> <p><img src="/zz-web/assets/img/image-20210512103112221.f557681e.png" alt="image-20210512103112221"></p> <ol><li><p>下载 vant 组件库到当前项目中</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> vant -D
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>导入所有组件, 在 main.js 中</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Vant <span class="token keyword">from</span> <span class="token string">&quot;vant&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">&quot;vant/lib/index.css&quot;</span><span class="token punctuation">;</span>

Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Vant<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li> <li><p>使用按钮组件</p> <p>https://vant-contrib.gitee.io/vant/#/zh-CN/button</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>主要按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>van-button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>info<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>信息按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>van-button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>default<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>默认按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>van-button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>warning<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>警告按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>van-button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>danger<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>危险按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>van-button</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li></ol> <h2 id="_1-2-手动按需引入"><a href="#_1-2-手动按需引入" class="header-anchor">#</a> 1.2 手动按需引入</h2> <blockquote><p>目标: 只引入使用的组件</p></blockquote> <p><img src="/zz-web/assets/img/image-20210512103145759.ff0c80ec.png" alt="image-20210512103145759"></p> <p>1.手动单独引入, 快速开始: <a href="https://vant-contrib.gitee.io/vant/" target="_blank" rel="noopener noreferrer">https://vant-contrib.gitee.io/vant/#/zh-CN/quickstart<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 方式2: 手动 按需引入</span>
<span class="token comment">// import Button from 'vant/lib/button'; // button组件</span>
<span class="token comment">// import 'vant/lib/button/style'; // button样式</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ol start="2"><li>注册</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// components: { // 手动注册组件名</span>
<span class="token comment">//   // VanButton: Button</span>
<span class="token comment">//   // 等价的</span>
<span class="token comment">//   [Button.name]: Button</span>
<span class="token comment">// }</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ol start="3"><li>使用</li></ol> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>主要按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>van-button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>info<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>信息按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>van-button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>default<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>默认按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>van-button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>warning<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>警告按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>van-button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>danger<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>危险按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>van-button</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="_1-3-自动按需引入"><a href="#_1-3-自动按需引入" class="header-anchor">#</a> 1.3 自动按需引入</h2> <blockquote><p>目标: 按需加载组件</p></blockquote> <p><a href="https://github.com/ant-design/babel-plugin-import" target="_blank" rel="noopener noreferrer">babel-plugin-import<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 是一款 babel 插件，它会在编译过程中将 import 的写法自动转换为按需引入的方式。</p> <ol><li><p>安装插件</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> babel-plugin-import -D
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>在 babel 配置文件里 (babel.config.js)</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">[</span>
      <span class="token string">&quot;import&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        libraryName<span class="token operator">:</span> <span class="token string">&quot;vant&quot;</span><span class="token punctuation">,</span>
        libraryDirectory<span class="token operator">:</span> <span class="token string">&quot;es&quot;</span><span class="token punctuation">,</span>
        style<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token string">&quot;vant&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div></li> <li><p>全局注册 - 会自动按需引入</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 方式1: 全局 - 自动按需引入vant组件</span>
<span class="token comment">// (1): 下载 babel-plugin-import</span>
<span class="token comment">// (2): babel.config.js - 添加官网说的配置 (一定要重启服务器)</span>
<span class="token comment">// (3): main.js 按需引入某个组件, Vue.use全局注册 - 某个.vue文件中直接使用vant组件</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Button <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vant&quot;</span><span class="token punctuation">;</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Button<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Button组件全局注册, 真正注册的组件名VanButton</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li></ol> <h2 id="_1-4-弹出框使用"><a href="#_1-4-弹出框使用" class="header-anchor">#</a> 1.4 弹出框使用</h2> <blockquote><p>目标: 使用弹出框组件</p></blockquote> <p><img src="/zz-web/assets/img/image-20210512103419096.76c7b6e4.png" alt="image-20210512103419096"></p> <p>https://vant-contrib.gitee.io/vant/#/zh-CN/dialog</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>主要按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>van-button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>info<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>信息按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>van-button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>default<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>默认按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>van-button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>warning<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>警告按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>van-button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>danger<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>危险按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>van-button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token comment">// 方式2: 手动 按需引入</span>
<span class="token comment">// import Button from 'vant/lib/button'; // button组件</span>
<span class="token comment">// import 'vant/lib/button/style'; // button样式</span>

<span class="token comment">// 目标: 使用弹出框</span>
<span class="token comment">// 1. 找到vant文档</span>
<span class="token comment">// 2. 引入</span>
<span class="token comment">// 3. 在恰当时机, 调用此函数 (还可以用组件的用法)</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Dialog <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vant&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token comment">// components: { // 手动注册组件名</span>
  <span class="token comment">//   // VanButton: Button</span>
  <span class="token comment">//   // 等价的</span>
  <span class="token comment">//   [Button.name]: Button</span>
  <span class="token comment">// }</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">btn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">Dialog</span><span class="token punctuation">(</span><span class="token punctuation">{</span> message<span class="token operator">:</span> <span class="token string">&quot;提示&quot;</span><span class="token punctuation">,</span> showCancelButton<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 调用执行时, 页面就会出弹出框</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><h2 id="_1-5-表单使用"><a href="#_1-5-表单使用" class="header-anchor">#</a> 1.5 表单使用</h2> <blockquote><p>目标: 使用 vant 组件里的表单组件</p></blockquote> <p>https://vant-contrib.gitee.io/vant/#/zh-CN/form</p> <p><img src="/zz-web/assets/img/image-20210512103438024.4e04bf60.png" alt="image-20210512103438024"></p> <p>表单验证规则:</p> <p><img src="/zz-web/assets/img/image-20210321220047052.6bf27909.png" alt="image-20210321220047052"></p> <h2 id="今日总结"><a href="#今日总结" class="header-anchor">#</a> 今日总结</h2> <ul><li><p>[ ] 了解什么是单页面应用, 以及优缺点</p></li> <li><p>[ ] 了解组件分为哪 2 类</p></li> <li><p>[ ] 路由的本质是什么, 就是改变 url 的 hash 值, 让 js 监听到, 根据配置好的映射规则, 显示不同的 DOM</p></li> <li><p>[ ] 声明式导航 router-link 是 vue-router 封装注册的全局组件, 比 a 标签好处是封装了高亮类名等</p></li> <li><p>[ ] 编程式导航, 用 Vue 内置的方法改变浏览器 url, this.$router.push()</p></li> <li><p>[ ] 路由跳转传参总结</p> <table><thead><tr><th>跳转方法</th> <th>传参位置</th> <th>路由规则</th> <th>接收</th></tr></thead> <tbody><tr><td><a href="/zz-web/path?key=value"></a></td> <td>/path?key=value</td> <td>无特殊</td> <td>$route.query.key</td></tr> <tr><td><a href="/zz-web/path/值"></a></td> <td>/path/值</td> <td>/path/:key</td> <td>$route.params.key</td></tr> <tr><td>this.$router.push({path: &quot;/path&quot;, query: {key: value}})</td> <td>query 的对象</td> <td>无特殊</td> <td>$route.query.key</td></tr> <tr><td>this.$router.push({name: &quot;com&quot;, params: {key: value})</td> <td>params 的对象</td> <td>路由规则需要 name 属性</td> <td>$route.params.key(注意,这种在内存中保存)</td></tr></tbody></table> <p>==无论哪种格式, 声明式和编程式都是通用的, 保证路径和参数格式正确就 ok==</p></li> <li><p>[ ] 路由重定向, 在配置项上使用 redirect 到目标路由路径</p></li> <li><p>[ ] 嵌套路由就是在某个一级页面中, 在嵌套一套路由切换系统</p> <ul><li>在路由规则里找到一级路由, 写 children: [] 注意: 除了第一层一级路由 path 写/, 子的开头都无需/</li> <li>跳转时, 要去的路由路径从一级开始写</li> <li>心中要做到 浏览器 url 路由值 和路由规则里的 path 对上即可</li></ul></li> <li><p>[ ] 全局路由前置守卫 - 可以在跳转路由前进行一些权限判断</p></li> <li><p>[ ] vant 组件库是封装好的组件, 我们拿来即可使用</p></li></ul> <h2 id="面试题"><a href="#面试题" class="header-anchor">#</a> 面试题</h2> <h2 id="_1-路由之间是怎么跳转的-有哪些方式"><a href="#_1-路由之间是怎么跳转的-有哪些方式" class="header-anchor">#</a> 1. 路由之间是怎么跳转的？有哪些方式</h2> <p>1、<code>&lt;router-link to=&quot;需要跳转到页面的路径&quot;&gt;</code></p> <p>2、this.$router.push()跳转到指定的 url，并在 history 中添加记录，点击回退返回到上一个页面</p> <p>3、this.$router.replace()跳转到指定的 url，但是 history 中不会添加记录，点击回退到上上个页面</p> <p>4、this.$touter.go(n)向前或者后跳转 n 个页面，n 可以是正数也可以是负数</p> <h2 id="_2-vue-router-怎么配置路由"><a href="#_2-vue-router-怎么配置路由" class="header-anchor">#</a> 2. vue-router 怎么配置路由</h2> <p>在 vue 中配置路由分为 5 个步骤，分别是：</p> <ol><li>引入 vue-router.js</li> <li>配置路由 path 和组件, 和生成路由对象</li> <li>把路由对象配置到 new Vue 中 router 选项下</li> <li>页面使用<!----> 承载路由</li> <li><a href="/zz-web/study/Vue%E5%9F%BA%E7%A1%80/Day07/要跳转的路径"></a> 设置路由导航(声明式导航方式/编程式跳转)
</li></ol> <h2 id="_3-vue-router-的钩子函数都有哪些"><a href="#_3-vue-router-的钩子函数都有哪些" class="header-anchor">#</a> 3. vue-router 的钩子函数都有哪些</h2> <p>关于 vue-router 中的钩子函数主要分为 3 类</p> <p>全局钩子函数要包含 beforeEach</p> <p>beforeEach 函数有三个参数,分别是:</p> <p>​ to:router 即将进入的路由对象
​ from:当前导航即将离开的路由
​ next:function,进行管道中的一个钩子，如果执行完了,则导航的状态就是 confirmed （确认的）否则为 false,终止导航。</p> <p>单独路由独享组件</p> <p>​ beforeEnter,</p> <p>组件内钩子</p> <p>beforeRouterEnter，
beforeRouterUpdate,
beforeRouterLeave</p> <h2 id="_4-路由传值的方式有哪几种"><a href="#_4-路由传值的方式有哪几种" class="header-anchor">#</a> 4. 路由传值的方式有哪几种</h2> <p>Vue-router 传参可以分为两大类，分别是编程式的导航 router.push 和声明式的导航</p> <p>router.push</p> <p>字符串：直接传递路由地址，但是不能传递参数</p> <p>​ this.$router.push(&quot;home&quot;)</p> <p>​ 对象：</p> <p>​ 命名路由 这种方式传递参数，目标页面刷新会报错 - name+params</p> <p>​ this.$router.push({name:&quot;news&quot;,params:{userId:123})</p> <p>​ 查询参数 和 path 配对的是 query</p> <p>​ this.$router.push({path:&quot;/news',query:{uersId:123})</p> <p>​ 接收参数 this.$route.query</p> <p>声明式导航</p> <p>​ 字符串 &lt;router-link to:&quot;news&quot;&gt;</p> <p>​ 命名路由 &lt;router-link :to:&quot;{name:'news',params:{userid:1111}}&quot;&gt;</p> <p>​ 还可以 to=&quot;/path/值&quot; - 需要提前在路由 规则里值 /path/:key</p> <p>​ 查询参数 <a href="/zz-web/news?userId=1111"></a></p> <p>​ 还可以 to=&quot;/path?key=value</p> <h3 id="_5-怎么定义-vue-router-的动态路由-怎么获取传过来的动态参数"><a href="#_5-怎么定义-vue-router-的动态路由-怎么获取传过来的动态参数" class="header-anchor">#</a> 5. 怎么定义 vue-router 的动态路由?怎么获取传过来的动态参数?</h3> <p>动态路由指的就是 path 路径上传智, 前提需要路由规则了提前配置/path/:key 名, 可以写多个用/隔开, 获取使用$route.params.key 名来提取对应用路径传过来的值</p> <h3 id="_6-vue-的路由实现模式-hash-模式和-history-模式-必会"><a href="#_6-vue-的路由实现模式-hash-模式和-history-模式-必会" class="header-anchor">#</a> 6. Vue 的路由实现模式：hash 模式和 history 模式（必会）</h3> <p>hash 模式：在浏览器中符号“#”，#以及#后面的字符称之为 hash，用 window.location.hash 读取。特点：hash 虽然在 URL 中，但不被包括在 HTTP 请求中；用来指导浏览器动作，对服务端安全无用，hash 不会重加载页面。</p> <p>history 模式：history 采用 HTML5 的新特性；且提供了两个新方法： pushState()， replaceState()可以对浏览器历史记录栈进行修改，以及 popState 事件的监听到状态变更</p> <h2 id="_7-请说出路由配置项常用的属性及作用-必会"><a href="#_7-请说出路由配置项常用的属性及作用-必会" class="header-anchor">#</a> 7. 请说出路由配置项常用的属性及作用（必会）</h2> <p>​ 路由配置参数：</p> <p>​ path : 跳转路径
​ component : 路径相对于的组件
​ name:命名路由
​ children:子路由的配置参数(路由嵌套)
​ props:路由解耦
​ redirect : 重定向路由</p> <h2 id="_8-编程式导航使用的方法以及常用的方法-必会"><a href="#_8-编程式导航使用的方法以及常用的方法-必会" class="header-anchor">#</a> 8. 编程式导航使用的方法以及常用的方法（必会）</h2> <p>​ 路由跳转 ： this.$router.push()
​    路由替换 : this.$router.replace()
​ 后退： this.$router.back()
​    前进 ：this.$router.forward()</p> <h2 id="_9-vue-如何去除-url-中的-必会"><a href="#_9-vue-如何去除-url-中的-必会" class="header-anchor">#</a> 9. Vue 如何去除 URL 中的#（必会）</h2> <p>​ vue-router 默认使用 hash 模式，所以在路由加载的时候，项目中的 URL 会自带 “#”。如果不想使用 “#”， 可以使用 vue-router 的另一种模式 history：new Router ({ mode : 'history', routes: [ ]})</p> <p>​ 需要注意的是，当我们启用 history 模式的时候，由于我们的项目是一个单页面应用，所以在路由跳转的时候，就会出现访问不到静态资源而出现 “404” 的情况，这时候就需要服务端增加一个覆盖所有情况的候选资源：如果 URL 匹配不到任何静态资源，则应该返回同一个 “index.html” 页面。</p> <h2 id="_10-说一下你在-vue-中踩过的坑-必会"><a href="#_10-说一下你在-vue-中踩过的坑-必会" class="header-anchor">#</a> 10. 说一下你在 vue 中踩过的坑（必会）</h2> <p>​ 1、第一个是给对象添加属性的时候，直接通过给 data 里面的对象添加属性然后赋值，新添加的属性不是响应式的</p> <p>​ 【解决办法】通过 Vue.set(对象，属性，值)这种方式就可以达到，对象新添加的属性是响应式的</p> <p>2、 在 created 操作 dom 的时候，是报错的，获取不到 dom，这个时候实例 vue 实例没有挂载</p> <p>​ 【解决办法】通过：Vue.nextTick(回调函数进行获取)</p> <h2 id="_11-route和-router-的区别"><a href="#_11-route和-router-的区别" class="header-anchor">#</a> 11. <strong>$route和$router 的区别？</strong></h2> <p>$route是路由信息对象，包括‘path，hash，query，fullPath，matched，name’等路由信息参数；
$router 是路由实例对象，包括了路由的跳转方法，实例对象等</p> <h2 id="附加练习-1-切换页面"><a href="#附加练习-1-切换页面" class="header-anchor">#</a> 附加练习_1.切换页面</h2> <blockquote><p>目的: 点击导航 a 标签, 实现下面页面内容的切换</p></blockquote> <p>建议: 新初始化一个空白的项目来写, 避免新手放到一起, 看的乱</p> <p>要求: 网页打开默认显示 - 首页部分</p> <p>规范:</p> <ul><li>views/ 4 个页面.vue 文件</li> <li>router/index.js - 路由配置</li> <li>App.vue 显示, main.js 注册路由</li></ul> <p>效果:</p> <p><img src="/zz-web/assets/img/01.fbda6689.gif" alt=""></p> <h2 id="附加练习-2-二级路由嵌套"><a href="#附加练习-2-二级路由嵌套" class="header-anchor">#</a> 附加练习_2.二级路由嵌套</h2> <blockquote><p>目标: 完成 git 演示的路由切换效果</p></blockquote> <p>建议: 再新建一个工程来写</p> <p>图示:</p> <p><img src="/zz-web/assets/img/02.a43d8a77.gif" alt=""></p> <h2 id="附加练习-3-tabbar-切换"><a href="#附加练习-3-tabbar-切换" class="header-anchor">#</a> 附加练习_3-tabbar 切换</h2> <p>把之前写的 tabbar 案例(原来用动态组件实现)</p> <p>现在请用路由实现相同的切换效果</p> <h2 id="今日作业"><a href="#今日作业" class="header-anchor">#</a> 今日作业</h2> <h2 id="三级路由嵌套"><a href="#三级路由嵌套" class="header-anchor">#</a> 三级路由嵌套</h2> <p>要求:</p> <ul><li>默认显示第一个 UI_Router 路由(一级路由) 3 个组件</li> <li>第二个组件需要嵌入导航和二级路由 展示区域</li> <li>Bob 下才需要第三个路由嵌入</li></ul> <p>提示:</p> <blockquote><p>点击按钮使用编程式导航, 可以在 2 级路由导航路径(带 2 个/的) 先写成一个数组, 随机取 1 个然后跳转即可</p></blockquote> <p>问题:</p> <p>可能会爆出警告, 编程式导航如果当前已经在这页, 还想跳转当前路由就会出个警告, 无需关心不影响功能</p> <p><img src="/zz-web/assets/img/03.6d43d11d.gif" alt=""></p> <p>标签内容(有的短自己手写吧)</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>Welcome to the UI-Router Demo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>
    Use the menu above to navigate. Pay attention to the $state and $stateParams
    values below.
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Click these links—Alice or Bob—to see a url redirect in action.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>UI-Router Resources<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>Source for this Sample<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>GitHub Main Page<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>Quick Start<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>In-Depth Guide<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>API Reference<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h2 id="额外扩展"><a href="#额外扩展" class="header-anchor">#</a> 额外扩展</h2> <h2 id="路由-工作原理手写"><a href="#路由-工作原理手写" class="header-anchor">#</a> 路由 - 工作原理手写</h2> <blockquote><p>目标: 了解 hash 改变, 如何显示不同的组件的过程</p></blockquote> <p>基本思路:</p> <ol><li>用户点击了页面上的 a 链接</li> <li>导致了 URL 地址栏中的 Hash 值发生了变化</li> <li>前端 js 监听了到 Hash 地址的变化</li> <li>前端 js 把当前 Hash 地址对应的组件渲染都浏览器中</li></ol> <p>实现简单的前端路由:</p> <ol><li><p>src/views/创建并在 App.vue 里导入和注册组件</p> <p>MyHome.vue</p> <p>MyMovie.vue</p> <p>MyAbout.vue</p></li></ol> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> MyHome <span class="token keyword">from</span> <span class="token string">&quot;@/views/MyHome.vue&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">import</span> MyMovie <span class="token keyword">from</span> <span class="token string">&quot;@/views/MyMovie.vue&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">import</span> MyAbout <span class="token keyword">from</span> <span class="token string">&quot;@/views/MyAbout.vue&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    components<span class="token operator">:</span> <span class="token punctuation">{</span>
      MyHome<span class="token punctuation">,</span>
      MyMovie<span class="token punctuation">,</span>
      MyAbout<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><ol start="2"><li>通过动态组件, 控制要显示的组件</li></ol> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>App组件<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component</span> <span class="token attr-name">:is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>comName<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>component</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...省略其他</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      comName<span class="token operator">:</span> <span class="token string">&quot;MyHome&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><ol start="3"><li>声明三个导航链接, 点击时修改地址栏的 hash 值</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">App组件</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#/home<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">首页</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">&amp;nbsp;
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#/movie<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">电影</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">&amp;nbsp;
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#/about<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">关于</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">&amp;nbsp;
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component</span> <span class="token attr-name">:is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>comName<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>component</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ol start="4"><li>在 created 中, 监视地址栏 hash 时的变化, 一旦变化, 动态切换展示的组件</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token function">created</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  window<span class="token punctuation">.</span><span class="token function-variable function">onhashchange</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">switch</span><span class="token punctuation">(</span>location<span class="token punctuation">.</span>hash<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">case</span> <span class="token string">'#/home'</span><span class="token operator">:</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>comName <span class="token operator">=</span> <span class="token string">'MyHome'</span>
        <span class="token keyword">break</span>
      <span class="token keyword">case</span> <span class="token string">'#/movie'</span><span class="token operator">:</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>comName <span class="token operator">=</span> <span class="token string">'MyMovie'</span>
        <span class="token keyword">break</span>
      <span class="token keyword">case</span> <span class="token string">'#/about'</span><span class="token operator">:</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>comName <span class="token operator">=</span> <span class="token string">'MyAbout'</span>
        <span class="token keyword">break</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><blockquote><p>总结: 改变浏览器 url 的 hash 值, JS 监听到 hash 值改变, 把对应的组件显示到同一个挂载点</p></blockquote></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/zz-web/study/Vue基础/Day06/06.html" class="prev">
        Vue 基础 - Day06
      </a></span> <span class="next"><a href="/zz-web/study/Vue基础/Day08/08.html">
        Vue 基础 - Day08
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/zz-web/assets/js/app.083f945b.js" defer></script><script src="/zz-web/assets/js/2.f2240049.js" defer></script><script src="/zz-web/assets/js/27.1a9df948.js" defer></script>
  </body>
</html>
