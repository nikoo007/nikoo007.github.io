<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Ajax - day01 | 前端笔记</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="在线笔记">
    
    <link rel="preload" href="/zz-web/assets/css/0.styles.c0bfc3b1.css" as="style"><link rel="preload" href="/zz-web/assets/js/app.083f945b.js" as="script"><link rel="preload" href="/zz-web/assets/js/2.f2240049.js" as="script"><link rel="preload" href="/zz-web/assets/js/7.29dbb4cd.js" as="script"><link rel="prefetch" href="/zz-web/assets/js/10.d5312b28.js"><link rel="prefetch" href="/zz-web/assets/js/11.2b6aa850.js"><link rel="prefetch" href="/zz-web/assets/js/12.2ab2992b.js"><link rel="prefetch" href="/zz-web/assets/js/13.edf2fe2f.js"><link rel="prefetch" href="/zz-web/assets/js/14.9f97b9d2.js"><link rel="prefetch" href="/zz-web/assets/js/15.0493a36c.js"><link rel="prefetch" href="/zz-web/assets/js/16.03213685.js"><link rel="prefetch" href="/zz-web/assets/js/17.73d68c4e.js"><link rel="prefetch" href="/zz-web/assets/js/18.12075e8a.js"><link rel="prefetch" href="/zz-web/assets/js/19.498e8181.js"><link rel="prefetch" href="/zz-web/assets/js/20.f2ff5235.js"><link rel="prefetch" href="/zz-web/assets/js/21.91a2fc69.js"><link rel="prefetch" href="/zz-web/assets/js/22.a727aa87.js"><link rel="prefetch" href="/zz-web/assets/js/23.380e54c9.js"><link rel="prefetch" href="/zz-web/assets/js/24.c12d12df.js"><link rel="prefetch" href="/zz-web/assets/js/25.8f557342.js"><link rel="prefetch" href="/zz-web/assets/js/26.b4ebb45d.js"><link rel="prefetch" href="/zz-web/assets/js/27.1a9df948.js"><link rel="prefetch" href="/zz-web/assets/js/28.58b2b7c8.js"><link rel="prefetch" href="/zz-web/assets/js/29.872a74a7.js"><link rel="prefetch" href="/zz-web/assets/js/3.96bb5801.js"><link rel="prefetch" href="/zz-web/assets/js/30.e767d85b.js"><link rel="prefetch" href="/zz-web/assets/js/31.2a66bb00.js"><link rel="prefetch" href="/zz-web/assets/js/32.4b3ae917.js"><link rel="prefetch" href="/zz-web/assets/js/33.a0ee48f3.js"><link rel="prefetch" href="/zz-web/assets/js/34.b1e111ac.js"><link rel="prefetch" href="/zz-web/assets/js/35.70b67615.js"><link rel="prefetch" href="/zz-web/assets/js/36.c8a1f895.js"><link rel="prefetch" href="/zz-web/assets/js/37.7830b613.js"><link rel="prefetch" href="/zz-web/assets/js/38.aaaab44a.js"><link rel="prefetch" href="/zz-web/assets/js/39.5fe7a1ec.js"><link rel="prefetch" href="/zz-web/assets/js/4.c3d1ea14.js"><link rel="prefetch" href="/zz-web/assets/js/40.54e98467.js"><link rel="prefetch" href="/zz-web/assets/js/41.4dc705c1.js"><link rel="prefetch" href="/zz-web/assets/js/42.9c9fa6be.js"><link rel="prefetch" href="/zz-web/assets/js/43.2be21763.js"><link rel="prefetch" href="/zz-web/assets/js/44.e1c509f1.js"><link rel="prefetch" href="/zz-web/assets/js/45.3d0ca188.js"><link rel="prefetch" href="/zz-web/assets/js/46.c08d3f05.js"><link rel="prefetch" href="/zz-web/assets/js/47.5b9b3830.js"><link rel="prefetch" href="/zz-web/assets/js/48.8dd0953b.js"><link rel="prefetch" href="/zz-web/assets/js/49.fa9cde16.js"><link rel="prefetch" href="/zz-web/assets/js/5.095b1679.js"><link rel="prefetch" href="/zz-web/assets/js/50.dd3e5c49.js"><link rel="prefetch" href="/zz-web/assets/js/51.e93f43fb.js"><link rel="prefetch" href="/zz-web/assets/js/52.00aba65d.js"><link rel="prefetch" href="/zz-web/assets/js/53.2e7de842.js"><link rel="prefetch" href="/zz-web/assets/js/54.9624d966.js"><link rel="prefetch" href="/zz-web/assets/js/6.dd5c96ae.js"><link rel="prefetch" href="/zz-web/assets/js/8.dc4bd71f.js"><link rel="prefetch" href="/zz-web/assets/js/9.81b641cc.js">
    <link rel="stylesheet" href="/zz-web/assets/css/0.styles.c0bfc3b1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/zz-web/" class="home-link router-link-active"><img src="./logo.png" alt="前端笔记" class="logo"> <span class="site-name can-hide">前端笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/zz-web/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="课程笔记" class="dropdown-title"><span class="title">课程笔记</span> <span class="arrow down"></span></button> <button type="button" aria-label="课程笔记" class="mobile-dropdown-title"><span class="title">课程笔记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          课程笔记
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/zz-web/study/webAPI/day01/01.html" class="nav-link">
  WebApi
</a></li><li class="dropdown-subitem"><a href="/zz-web/study/JS基础/js-day01/01.html" class="nav-link">
  JS基础
</a></li><li class="dropdown-subitem"><a href="/zz-web/study/Jquery/day01/01.html" class="nav-link">
  Jquery
</a></li><li class="dropdown-subitem"><a href="/zz-web/study/Eacharts/day01/01.html" class="nav-link">
  数据可视化
</a></li><li class="dropdown-subitem"><a href="/zz-web/study/Js高级/day01/JavaScript高级第01天笔记.html" class="nav-link">
  JS高级
</a></li><li class="dropdown-subitem"><a href="/zz-web/study/AJAX/day01/01.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Ajax
</a></li><li class="dropdown-subitem"><a href="/zz-web/study/Git/day01/01.html" class="nav-link">
  Git
</a></li><li class="dropdown-subitem"><a href="/zz-web/study/BigEvent/day01/01.html" class="nav-link">
  大事件
</a></li><li class="dropdown-subitem"><a href="/zz-web/study/NodeJs/day01/01.html" class="nav-link">
  NodeJs
</a></li><li class="dropdown-subitem"><a href="/zz-web/study/Vue基础/Day01/01.html" class="nav-link">
  Vue基础
</a></li></ul></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/zz-web/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="课程笔记" class="dropdown-title"><span class="title">课程笔记</span> <span class="arrow down"></span></button> <button type="button" aria-label="课程笔记" class="mobile-dropdown-title"><span class="title">课程笔记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          课程笔记
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/zz-web/study/webAPI/day01/01.html" class="nav-link">
  WebApi
</a></li><li class="dropdown-subitem"><a href="/zz-web/study/JS基础/js-day01/01.html" class="nav-link">
  JS基础
</a></li><li class="dropdown-subitem"><a href="/zz-web/study/Jquery/day01/01.html" class="nav-link">
  Jquery
</a></li><li class="dropdown-subitem"><a href="/zz-web/study/Eacharts/day01/01.html" class="nav-link">
  数据可视化
</a></li><li class="dropdown-subitem"><a href="/zz-web/study/Js高级/day01/JavaScript高级第01天笔记.html" class="nav-link">
  JS高级
</a></li><li class="dropdown-subitem"><a href="/zz-web/study/AJAX/day01/01.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Ajax
</a></li><li class="dropdown-subitem"><a href="/zz-web/study/Git/day01/01.html" class="nav-link">
  Git
</a></li><li class="dropdown-subitem"><a href="/zz-web/study/BigEvent/day01/01.html" class="nav-link">
  大事件
</a></li><li class="dropdown-subitem"><a href="/zz-web/study/NodeJs/day01/01.html" class="nav-link">
  NodeJs
</a></li><li class="dropdown-subitem"><a href="/zz-web/study/Vue基础/Day01/01.html" class="nav-link">
  Vue基础
</a></li></ul></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/zz-web/study/AJAX/day01/01.html" aria-current="page" class="active sidebar-link">Ajax - day01</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zz-web/study/AJAX/day01/01.html#" class="sidebar-link"></a></li><li class="sidebar-sub-header"><a href="/zz-web/study/AJAX/day01/01.html#上网的目的" class="sidebar-link">上网的目的</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/AJAX/day01/01.html#服务器" class="sidebar-link">服务器</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/AJAX/day01/01.html#客户端" class="sidebar-link">客户端</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/AJAX/day01/01.html#url-地址的概念-组成" class="sidebar-link">URL 地址的概念&amp;组成</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/AJAX/day01/01.html#url-的概念" class="sidebar-link">URL 的概念</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/AJAX/day01/01.html#url-的组成" class="sidebar-link">URL 的组成</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/AJAX/day01/01.html#客户端与服务器通讯过程-⭐⭐⭐" class="sidebar-link">客户端与服务器通讯过程（⭐⭐⭐）</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/AJAX/day01/01.html#基于浏览器工具分析通讯过程" class="sidebar-link">基于浏览器工具分析通讯过程</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/AJAX/day01/01.html#服务器对外提供的资源" class="sidebar-link">服务器对外提供的资源</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/AJAX/day01/01.html#常见资源" class="sidebar-link">常见资源</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/AJAX/day01/01.html#数据也是资源-⭐⭐⭐" class="sidebar-link">数据也是资源（⭐⭐⭐）</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/AJAX/day01/01.html#网页中如何请求数据" class="sidebar-link">网页中如何请求数据</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/AJAX/day01/01.html#资源的请求方式-⭐⭐⭐" class="sidebar-link">资源的请求方式（⭐⭐⭐）</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/AJAX/day01/01.html#什么是ajax-⭐⭐⭐" class="sidebar-link">什么是Ajax（⭐⭐⭐）</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/AJAX/day01/01.html#为什么要学ajax" class="sidebar-link">为什么要学Ajax</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/AJAX/day01/01.html#ajax应该用场景-⭐⭐⭐" class="sidebar-link">Ajax应该用场景（⭐⭐⭐）</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/AJAX/day01/01.html#场景一-用户名检测" class="sidebar-link">场景一：用户名检测</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/AJAX/day01/01.html#场景二-搜索提示" class="sidebar-link">场景二：搜索提示</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/AJAX/day01/01.html#场景三-数据分页显示" class="sidebar-link">场景三：数据分页显示</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/AJAX/day01/01.html#场景四-数据的增删改查" class="sidebar-link">场景四：数据的增删改查</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/AJAX/day01/01.html#get-函数介绍-⭐⭐" class="sidebar-link">$.get() 函数介绍（⭐⭐）</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/AJAX/day01/01.html#get-发起不带参数的请求" class="sidebar-link">$.get()发起不带参数的请求</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/AJAX/day01/01.html#get-发起携带参数的请求" class="sidebar-link">$.get()发起携带参数的请求</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/AJAX/day01/01.html#post-函数介绍-⭐⭐" class="sidebar-link">$.post() 函数介绍（⭐⭐）</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/AJAX/day01/01.html#post-向服务器提交数据" class="sidebar-link">$.post() 向服务器提交数据</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/AJAX/day01/01.html#ajax-函数介绍-⭐⭐⭐" class="sidebar-link">$.ajax() 函数介绍（⭐⭐⭐）</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/AJAX/day01/01.html#ajax-发起-get-请求" class="sidebar-link">$.ajax() 发起 get 请求</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/AJAX/day01/01.html#ajax-发起-post-请求" class="sidebar-link">$.ajax 发起 post 请求</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/AJAX/day01/01.html#接口的概念-⭐⭐⭐" class="sidebar-link">接口的概念（⭐⭐⭐）</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/AJAX/day01/01.html#接口的请求过程" class="sidebar-link">接口的请求过程</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/AJAX/day01/01.html#get-方式请求接口的过程" class="sidebar-link">GET 方式请求接口的过程</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/AJAX/day01/01.html#post-方式请求接口的过程" class="sidebar-link">POST 方式请求接口的过程</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/AJAX/day01/01.html#接口测试工具" class="sidebar-link">接口测试工具</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/AJAX/day01/01.html#什么是接口测试工具" class="sidebar-link">什么是接口测试工具</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/AJAX/day01/01.html#了解-postman-界面结构" class="sidebar-link">了解 Postman 界面结构</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/AJAX/day01/01.html#使用postman测试-get-接口" class="sidebar-link">使用PostMan测试 GET 接口</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/AJAX/day01/01.html#使用postman测试-post-接口" class="sidebar-link">使用PostMan测试 POST 接口</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/AJAX/day01/01.html#接口文档" class="sidebar-link">接口文档</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/AJAX/day01/01.html#什么是接口文档-⭐⭐⭐" class="sidebar-link">什么是接口文档（⭐⭐⭐）</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/AJAX/day01/01.html#接口文档的组成部分" class="sidebar-link">接口文档的组成部分</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/AJAX/day01/01.html#接口文档示例" class="sidebar-link">接口文档示例</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/AJAX/day01/01.html#图书管理" class="sidebar-link">图书管理</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/AJAX/day01/01.html#项目效果" class="sidebar-link">项目效果</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/AJAX/day01/01.html#ui界面搭建" class="sidebar-link">UI界面搭建</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/AJAX/day01/01.html#获取图书列表数据" class="sidebar-link">获取图书列表数据</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/AJAX/day01/01.html#渲染图书列表" class="sidebar-link">渲染图书列表</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/AJAX/day01/01.html#删除功能实现" class="sidebar-link">删除功能实现</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/AJAX/day01/01.html#删除链接绑定单击事件处理函数" class="sidebar-link">删除链接绑定单击事件处理函数</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/AJAX/day01/01.html#删除功能实现-2" class="sidebar-link">删除功能实现</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/AJAX/day01/01.html#添加功能实现" class="sidebar-link">添加功能实现</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/AJAX/day01/01.html#添加按钮绑定点击事件" class="sidebar-link">添加按钮绑定点击事件</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/AJAX/day01/01.html#实现图书添加功能" class="sidebar-link">实现图书添加功能</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/AJAX/day01/01.html#聊天机器人" class="sidebar-link">聊天机器人</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/AJAX/day01/01.html#效果" class="sidebar-link">效果</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/AJAX/day01/01.html#实现功能点" class="sidebar-link">实现功能点</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/AJAX/day01/01.html#在线接口文档" class="sidebar-link">在线接口文档</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/AJAX/day01/01.html#url" class="sidebar-link">url</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/AJAX/day01/01.html#梳理案例的代码结构" class="sidebar-link">梳理案例的代码结构</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/AJAX/day01/01.html#将用户输入的内容渲染到聊天窗口" class="sidebar-link">将用户输入的内容渲染到聊天窗口</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/AJAX/day01/01.html#发起请求获取聊天信息" class="sidebar-link">发起请求获取聊天信息</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/AJAX/day01/01.html#将机器人聊天内容转成语音" class="sidebar-link">将机器人聊天内容转成语音</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/AJAX/day01/01.html#通过回车键发送消息" class="sidebar-link">通过回车键发送消息</a></li></ul></li><li><a href="/zz-web/study/AJAX/day02/02.html" class="sidebar-link">Ajax - day02</a></li><li><a href="/zz-web/study/AJAX/day03/03.html" class="sidebar-link">Ajax - day03</a></li><li><a href="/zz-web/study/AJAX/day04/04.html" class="sidebar-link">Ajax - day04</a></li><li><a href="/zz-web/study/AJAX/day05/05.html" class="sidebar-link">Ajax - day05</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="ajax-day01"><a href="#ajax-day01" class="header-anchor">#</a> Ajax - day01</h1> <ul><li>能够知道和服务器相关的基本概念</li> <li>能够知道客户端和服务器通信的过程</li> <li>能够知道数据也是一种资源</li> <li>能够说出什么是<code>Ajax</code>以及应用场景</li> <li>能够使用<code>jQuery</code>中的<code>Ajax</code>函数请求数据</li> <li>能够知道接口和接口文档的概念</li></ul> <h1 id="相关概念"><a href="#相关概念" class="header-anchor">#</a> 相关概念</h1> <h2 id=""><a href="#" class="header-anchor">#</a></h2> <p>客户端与服务器（⭐⭐⭐）</p> <h2 id="上网的目的"><a href="#上网的目的" class="header-anchor">#</a> 上网的目的</h2> <p><img src="/zz-web/assets/img/1.e1bf6515.png" alt=""></p> <p>上网的**本质目的：**通过互联网的形式来 <strong>获取和消费资源</strong></p> <h2 id="服务器"><a href="#服务器" class="header-anchor">#</a> 服务器</h2> <p>上网过程中，负责 <strong>存放和对外提供资源</strong> 的电脑，叫做服务器</p> <p><img src="/zz-web/assets/img/2.35d72504.png" alt=""></p> <h2 id="客户端"><a href="#客户端" class="header-anchor">#</a> 客户端</h2> <p>在上网过程中，负责 <strong>获取和消费资源</strong> 的电脑，叫做客户端</p> <p><img src="/zz-web/assets/img/3.8daa91d9.png" alt=""></p> <h2 id="url-地址的概念-组成"><a href="#url-地址的概念-组成" class="header-anchor">#</a> URL 地址的概念&amp;组成</h2> <h2 id="url-的概念"><a href="#url-的概念" class="header-anchor">#</a> URL 的概念</h2> <p>URL（全称是 <code>UniformResourceLocator</code>） 中文叫 <strong>统一资源定位符</strong>，用于标识互联网上每个资源的唯一存放位置。浏览器只有通过 URL 地址，才能正确定位资源的存放位置，从而成功访问到对应的资源</p> <h2 id="url-的组成"><a href="#url-的组成" class="header-anchor">#</a> URL 的组成</h2> <p>URL 地址一般由三部分组成:</p> <ul><li>客户端与服务器之间的 <strong>通信协议</strong></li> <li>存有该资源的 <strong>服务器名称</strong></li> <li>资源在服务器上 <strong>具体的存放位置</strong></li></ul> <p><img src="/zz-web/assets/img/4.55152767.png" alt=""></p> <h2 id="客户端与服务器通讯过程-⭐⭐⭐"><a href="#客户端与服务器通讯过程-⭐⭐⭐" class="header-anchor">#</a> 客户端与服务器通讯过程（⭐⭐⭐）</h2> <p><img src="/zz-web/assets/img/5.ead50832.png" alt=""></p> <p><strong>注意：</strong></p> <ul><li>客户端与服务器之间的通讯过程，分为： <strong>请求-处理-响应</strong> 三个步骤</li> <li>网页中每一个资源，都是通过 <strong>请求-处理-响应</strong> 的方式从服务器获取回来的</li></ul> <h2 id="基于浏览器工具分析通讯过程"><a href="#基于浏览器工具分析通讯过程" class="header-anchor">#</a> 基于浏览器工具分析通讯过程</h2> <p><img src="/zz-web/assets/img/6.8d55b1da.png" alt=""></p> <p><strong>步骤：</strong></p> <ul><li>打开<code>Chorme</code>浏览器</li> <li><code>Ctrl + Shift + I（F12）</code> 打开 Chrome 的开发者工具</li> <li>切换到 <code>Network</code> 面板</li> <li>选中<code>Doc</code> 页签</li> <li>刷新页面，分析客户端与服务器的通讯过程</li></ul> <h2 id="服务器对外提供的资源"><a href="#服务器对外提供的资源" class="header-anchor">#</a> 服务器对外提供的资源</h2> <h2 id="常见资源"><a href="#常见资源" class="header-anchor">#</a> 常见资源</h2> <p><img src="/zz-web/assets/img/7.03d2a338.png" alt=""></p> <h2 id="数据也是资源-⭐⭐⭐"><a href="#数据也是资源-⭐⭐⭐" class="header-anchor">#</a> 数据也是资源（⭐⭐⭐）</h2> <p><strong>网页中的数据，也是服务器对外提供的一种资源</strong>，例如股票数据，各行业排行榜等</p> <h2 id="网页中如何请求数据"><a href="#网页中如何请求数据" class="header-anchor">#</a> 网页中如何请求数据</h2> <blockquote><p>数据，也是服务器对外提供的一种 资源，只要是资源，必然要通过 请求 - 处理 - 响应 的方式进行获取</p></blockquote> <p><img src="/zz-web/assets/img/8.bac1381d.png" alt=""></p> <p>如果要在网页中请求服务器上的数据资源，需要用到 <code>XMLHttpRequest</code> 对象</p> <p><code>XMLHttpRequest</code>（简称 <code>xhr</code>）是浏览器提供的<code>JS</code>成员，通过它，可以请求服务器上的数据资源</p> <p>最简单的用法 <code>var xhrObj = new XMLHttpRequest()</code></p> <h2 id="资源的请求方式-⭐⭐⭐"><a href="#资源的请求方式-⭐⭐⭐" class="header-anchor">#</a> 资源的请求方式（⭐⭐⭐）</h2> <p>客户端请求服务器时，请求的方式 <strong>有很多种</strong>，最常见的两种请求方式分别是 <code>get</code> 和 <code>post</code> 请求</p> <ul><li><p><code>get 请求</code>，通常用于 <strong>获取服务器资源</strong>（要资源）</p> <p>例如：根据 <code>URL</code> 地址，从服务器获取 <code>HTML</code>文件、<code>css</code>文件、<code>js</code>文件、图片文件、数据资源等</p></li> <li><p><code>post 请求</code>，通常用于 <strong>向服务器提交数据</strong>（送资源）</p> <p>例如：登录时，向服务器 <strong>提交登录信息</strong>、注册时向服务器 <strong>提交注册信息</strong>、添加用户时向服务器 <strong>提交用户信息</strong>等各种 <strong>数据提交操作</strong></p></li></ul> <h1 id="了解ajax"><a href="#了解ajax" class="header-anchor">#</a> 了解<code>Ajax</code></h1> <h2 id="什么是ajax-⭐⭐⭐"><a href="#什么是ajax-⭐⭐⭐" class="header-anchor">#</a> 什么是<code>Ajax</code>（⭐⭐⭐）</h2> <p><code>Ajax</code> 的全称是 <code>Asynchronous JavaScript And XML</code>（异步 <code>JavaScript</code> 和 <code>xml</code>）</p> <p>通俗理解：在网页中利用 <code>XMLHttpRequest</code> 对象和服务器进行数据交互的方式，就是<code>Ajax</code></p> <h2 id="为什么要学ajax"><a href="#为什么要学ajax" class="header-anchor">#</a> 为什么要学<code>Ajax</code></h2> <p>之前所学的技术，只能把网页做的更美观漂亮，或添加一些动画效果，但还是，<code>Ajax</code>能让我们轻松实现 <strong>网页</strong> 与 <strong>服务器</strong>之间的 <strong>数据交互</strong></p> <p><img src="/zz-web/assets/img/9.bfa726a3.png" alt=""></p> <h2 id="ajax应该用场景-⭐⭐⭐"><a href="#ajax应该用场景-⭐⭐⭐" class="header-anchor">#</a> <code>Ajax</code>应该用场景（⭐⭐⭐）</h2> <h2 id="场景一-用户名检测"><a href="#场景一-用户名检测" class="header-anchor">#</a> 场景一：用户名检测</h2> <p>注册用户时，通过 <code>ajax</code> 的形式，动态 <strong>检测用户名是否被占用</strong></p> <p><img src="/zz-web/assets/img/10.52cc53ba.png" alt=""></p> <h2 id="场景二-搜索提示"><a href="#场景二-搜索提示" class="header-anchor">#</a> 场景二：搜索提示</h2> <p>当输入搜索关键字时，通过 <code>ajax</code> 的形式，动态 <strong>加载搜索提示列表</strong></p> <p><img src="/zz-web/assets/img/11.02a5f855.png" alt=""></p> <h2 id="场景三-数据分页显示"><a href="#场景三-数据分页显示" class="header-anchor">#</a> 场景三：数据分页显示</h2> <p>当点击页码值得时候，通过 <code>ajax</code> 的形式，<strong>根据页码值动态刷新表格的数据</strong></p> <p><img src="/zz-web/assets/img/12.a7cb59dd.png" alt=""></p> <h2 id="场景四-数据的增删改查"><a href="#场景四-数据的增删改查" class="header-anchor">#</a> 场景四：数据的增删改查</h2> <p>数据的添加、删除、修改、查询操作，都需要通过 <code>ajax</code> 的形式，来实现数据的交互
<img src="/zz-web/assets/img/13.e6fc306b.png" alt=""></p> <h1 id="jquery中的-ajax"><a href="#jquery中的-ajax" class="header-anchor">#</a> <code>jQuery</code>中的 Ajax</h1> <p>浏览器中提供的 <code>XMLHttpRequest</code> 用法比较复杂，所以 <code>jQuery</code> 对 <code>XMLHttpRequest</code> 进行了封装，提供了一系列 Ajax 相关的函数，极大地 <strong>降低了 Ajax 的使用难度</strong></p> <p><code>jQuery</code>中发起 Ajax 请求最常用的三个方法如下：</p> <ul><li><code>$.get()</code> get 方式请求，用于获取数据</li> <li><code>$.post()</code> post 方式请求，用于提交数据</li> <li><code>$.ajax()</code> 比较综合，既可以获取数据，又可以提交数据</li></ul> <h2 id="get-函数介绍-⭐⭐"><a href="#get-函数介绍-⭐⭐" class="header-anchor">#</a> $.get() 函数介绍（⭐⭐）</h2> <p><code>jQuery</code> 中 <code>$.get()</code> 函数的功能单一，专门用来发起 <code>get</code> 请求，从而将服务器上的资源请求到客户端来进行使用</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>$<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">[</span>data<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>callback<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="/zz-web/assets/img/14.7755b6b0.png" alt=""></p> <h2 id="get-发起不带参数的请求"><a href="#get-发起不带参数的请求" class="header-anchor">#</a> $.get()发起不带参数的请求</h2> <p>使用 $.get() 函数 发起不带参数的请求时，直接提供给 <strong>请求的 URL 地址</strong> 和 <strong>请求成功之后的回调函数</strong> 即可，示例代码如下</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>http://www.liulongbin.top:3006/api/getbooks
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="/zz-web/assets/img/15.f6d57d82.png" alt=""></p> <h2 id="get-发起携带参数的请求"><a href="#get-发起携带参数的请求" class="header-anchor">#</a> $.get()发起携带参数的请求</h2> <p>使用<code>$.get()</code> 发起携带参数的请求，那么携带的参数应该写在第二个参数的位置，示例代码如下：</p> <p><img src="/zz-web/assets/img/16.1b3a98f6.png" alt=""></p> <h2 id="post-函数介绍-⭐⭐"><a href="#post-函数介绍-⭐⭐" class="header-anchor">#</a> $.post() 函数介绍（⭐⭐）</h2> <p><code>jQuery</code> 中 <code>$.post()</code> 函数的功能单一，专门用来发起<code>post</code>请求，从而向服务器提交数据</p> <p><code>$.post()</code> 函数的语法如下：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>$<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">[</span>data<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>callback<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>参数各自代表的含义如下：</p> <p><img src="/zz-web/assets/img/17.9a02f458.png" alt=""></p> <h2 id="post-向服务器提交数据"><a href="#post-向服务器提交数据" class="header-anchor">#</a> $.post() 向服务器提交数据</h2> <p>使用 <code>$.post()</code> 向服务器提交数据的示例代码如下：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>http://www.liulongbin.top:3006/api/addbook
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="/zz-web/assets/img/18.1aa3bf58.png" alt=""></p> <h2 id="ajax-函数介绍-⭐⭐⭐"><a href="#ajax-函数介绍-⭐⭐⭐" class="header-anchor">#</a> <code>$.ajax()</code> 函数介绍（⭐⭐⭐）</h2> <p>相比于 <code>$.get()</code> 和 <code>$.post()</code> 函数，<code>jQuery</code> 中提供的 <code>$.ajax()</code> 函数，是一个功能比较综合的函数，它允许我们对 <code>Ajax</code> 请求进行更详细的配置。</p> <p><code>$.ajax()</code> 函数的基本语法如下：</p> <p><img src="/zz-web/assets/img/19.c9fcf4a0.png" alt=""></p> <h2 id="ajax-发起-get-请求"><a href="#ajax-发起-get-请求" class="header-anchor">#</a> <code>$.ajax()</code> 发起 get 请求</h2> <p>使用 <code>$.ajax()</code> 发起 <code>GET</code> 请求时，只需要将 <code>type</code> 属性 的值设置为 ‘<code>GET</code>’ 即可：</p> <p><img src="/zz-web/assets/img/20.b1d03c4f.png" alt=""></p> <h2 id="ajax-发起-post-请求"><a href="#ajax-发起-post-请求" class="header-anchor">#</a> <code>$.ajax</code> 发起 post 请求</h2> <p>使用 <code>$.ajax()</code> 发起 <code>post</code>请求，只需要把 <code>type</code>属性的值 设置为 ‘<code>post</code>’ 即可</p> <p><img src="/zz-web/assets/img/21.7fb288bb.png" alt=""></p> <h1 id="接口"><a href="#接口" class="header-anchor">#</a> 接口</h1> <h2 id="接口的概念-⭐⭐⭐"><a href="#接口的概念-⭐⭐⭐" class="header-anchor">#</a> 接口的概念（⭐⭐⭐）</h2> <p>使用 <code>Ajax</code> 请求数据时，被请求的 <code>URL</code> 地址，就叫做 数据接口（简称<strong>接口</strong>）。同时，每个接口必须有请求方式。</p> <p>例如：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>http://www.liulongbin.top:3006/api/getbooks 获取图书列表的接口（get请求）
http://www.liulongbin.top:3006/api/addbook  添加图书的接口（post请求）
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="接口的请求过程"><a href="#接口的请求过程" class="header-anchor">#</a> 接口的请求过程</h2> <h2 id="get-方式请求接口的过程"><a href="#get-方式请求接口的过程" class="header-anchor">#</a> GET 方式请求接口的过程</h2> <p><img src="/zz-web/assets/img/22.0157b387.png" alt=""></p> <h2 id="post-方式请求接口的过程"><a href="#post-方式请求接口的过程" class="header-anchor">#</a> POST 方式请求接口的过程</h2> <p><img src="/zz-web/assets/img/23.f5c98046.png" alt=""></p> <h2 id="接口测试工具"><a href="#接口测试工具" class="header-anchor">#</a> 接口测试工具</h2> <h2 id="什么是接口测试工具"><a href="#什么是接口测试工具" class="header-anchor">#</a> 什么是接口测试工具</h2> <p>为了验证接口是否被正常被访问，我们常常需要使用接口测试工具，来对数据接口进行检测</p> <p>**好处：**接口测试工具能让我们在 <strong>不写任何代码</strong> 的情况下，对接口进行 <strong>调用</strong> 和 <strong>测试</strong></p> <p>常用的就是：<a href="https://www.getpostman.com/downloads/" target="_blank" rel="noopener noreferrer">PostMan<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><img src="/zz-web/assets/img/postMan.c9fdc865.png" alt=""></p> <h2 id="了解-postman-界面结构"><a href="#了解-postman-界面结构" class="header-anchor">#</a> 了解 Postman 界面结构</h2> <p><img src="/zz-web/assets/img/Postman1.b1ff0f10.png" alt=""></p> <h2 id="使用postman测试-get-接口"><a href="#使用postman测试-get-接口" class="header-anchor">#</a> 使用<code>PostMan</code>测试 GET 接口</h2> <p><img src="/zz-web/assets/img/Postman2.4a3aca59.png" alt=""></p> <h2 id="使用postman测试-post-接口"><a href="#使用postman测试-post-接口" class="header-anchor">#</a> 使用<code>PostMan</code>测试 POST 接口</h2> <p><img src="/zz-web/assets/img/Postman3.7852e138.png" alt=""></p> <h2 id="接口文档"><a href="#接口文档" class="header-anchor">#</a> 接口文档</h2> <h2 id="什么是接口文档-⭐⭐⭐"><a href="#什么是接口文档-⭐⭐⭐" class="header-anchor">#</a> 什么是接口文档（⭐⭐⭐）</h2> <p>接口文档，顾名思义就是 <strong>接口的说明文档</strong>，<strong>它是我们调用接口的依据</strong>。好的接口文档包含了对 <strong>接口 URL</strong>，<strong>参数</strong> 以及 <strong>输出内容</strong> 的说明，我们参照接口文档就能方便的知道接口的作用，以及接口如何进行调用</p> <h2 id="接口文档的组成部分"><a href="#接口文档的组成部分" class="header-anchor">#</a> 接口文档的组成部分</h2> <p>接口文档可以包含很多信息，也可以按需进行精简，不过，一个合格的接口文档，应该包含以下 6 项内容，从而为接口的调用提供依据：</p> <ul><li>**接口名称：**用来标识各个接口的简单说明，如 <strong>登录接口</strong>，<strong>获取图书列表接口</strong>等</li> <li>**接口 URL：**接口的调用地址</li> <li>**调用方式：**接口的调用方式，如 <strong>GET</strong> 或者 <strong>POST</strong></li> <li>**参数格式：**接口需要传递的参数，每个参数必须包含 <strong>参数名称</strong>、<strong>参数类型</strong>、<strong>是否必选</strong>、<strong>参数说明</strong> 这 4 项内容</li> <li><strong>响应格式：<strong>接口的返回值的详细描述，一般包含</strong>数据名称</strong>、<strong>数据类型</strong>、<strong>说明</strong>3 项内容</li> <li>**返回示例（可选）：**通过对象的形式，列举服务器返回数据的结构</li></ul> <h2 id="接口文档示例"><a href="#接口文档示例" class="header-anchor">#</a> 接口文档示例</h2> <p><img src="/zz-web/assets/img/24.1b3593d7.png" alt=""></p> <p><img src="/zz-web/assets/img/25.0168b793.png" alt=""></p> <p><img src="/zz-web/assets/img/26.a92da02b.png" alt=""></p> <h1 id="案例"><a href="#案例" class="header-anchor">#</a> 案例</h1> <h2 id="图书管理"><a href="#图书管理" class="header-anchor">#</a> 图书管理</h2> <h2 id="项目效果"><a href="#项目效果" class="header-anchor">#</a> 项目效果</h2> <p><img src="/zz-web/assets/img/27.cd882f3c.png" alt=""></p> <h2 id="ui界面搭建"><a href="#ui界面搭建" class="header-anchor">#</a> <code>UI</code>界面搭建</h2> <p><strong>需要使用到的库和插件</strong></p> <ul><li>用到的 <code>css</code> 库 <code>bootstrap.css</code></li> <li>用到的 <code>javascript</code> 库 <code>jquery.js</code></li> <li>用到 <code>vs code</code> 插件 <code>Bootstrap 3 Snippets</code></li></ul> <p><strong>搭建步骤</strong></p> <ul><li><p>Panel 面板搭建</p> <ul><li><p>创建 panel 板 （快捷键：<code>bs3-panel:primary</code>）</p></li> <li><p>在 <code>panel-body</code> 里面，创建 3 个对应的输入框 （快捷键：<code>bs3-input:addon:text</code>），对应修改标题</p></li> <li><p>在 <code>panel-body</code> 最后面，创建 <code>button</code>按钮 （快捷键：<code>bs3-button:primary</code>）,修改内容</p></li> <li><div class="panel-body form-inline"></div> 添加form-inline可以让盒子一行显示
</li></ul></li> <li><p>图书的表格</p> <ul><li>创建 table（快捷键：<code>bs3-table:bordered</code>）</li> <li>在里面创建对应 5 个<code>td</code>，填写里面内容</li></ul></li></ul> <h2 id="获取图书列表数据"><a href="#获取图书列表数据" class="header-anchor">#</a> 获取图书列表数据</h2> <p><strong>步骤：</strong></p> <ul><li>查阅资料中的接口文档，找到获取图书列表的接口</li> <li>定义 script 标签，创建入口函数</li> <li>利用 $.get() 方法，传入相应的<code>url</code>，和成功之后的回调函数</li> <li>在回调函数中获取到请求成功的数据</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 获取图书列表数据</span>
<span class="token keyword">function</span> <span class="token function">getBookList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  $<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;http://www.liulongbin.top:3006/api/getbooks&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="渲染图书列表"><a href="#渲染图书列表" class="header-anchor">#</a> 渲染图书列表</h2> <p><strong>步骤：</strong></p> <ul><li>根据返回状态码来判断是否成功请求到数据</li> <li>创建数组，用来存放<strong>行</strong>数据（<code>rows</code>）</li> <li>遍历服务器返回的数组，每遍历一次，利用数组（<code>rows</code>）去<code>push</code> <code>&lt;tr&gt;&lt;/tr&gt;</code></li> <li>每一行 <code>tr</code> 里面包含了 5 个<code>td</code></li> <li>给每一个 <code>td</code> 设置对应内容即可</li> <li>遍历循环完毕之后，找到内容容器，先清空当前内容（以免有重复数据），然后添加 <code>rows</code></li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> rows <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
$<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">i<span class="token punctuation">,</span> item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  rows<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>
    <span class="token string">&quot;&lt;tr&gt;&lt;td&gt;&quot;</span> <span class="token operator">+</span>
      item<span class="token punctuation">.</span>id <span class="token operator">+</span>
      <span class="token string">&quot;&lt;/td&gt;&lt;td&gt;&quot;</span> <span class="token operator">+</span>
      item<span class="token punctuation">.</span>bookname <span class="token operator">+</span>
      <span class="token string">&quot;&lt;/td&gt;&lt;td&gt;&quot;</span> <span class="token operator">+</span>
      item<span class="token punctuation">.</span>author <span class="token operator">+</span>
      <span class="token string">&quot;&lt;/td&gt;&lt;td&gt;&quot;</span> <span class="token operator">+</span>
      item<span class="token punctuation">.</span>publisher <span class="token operator">+</span>
      <span class="token string">'&lt;/td&gt;&lt;td&gt;&lt;a href=&quot;javascript:;&quot; class=&quot;del&quot; data-id=&quot;'</span> <span class="token operator">+</span>
      item<span class="token punctuation">.</span>id <span class="token operator">+</span>
      <span class="token string">'&quot;&gt;删除&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;'</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#tb&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>rows<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h2 id="删除功能实现"><a href="#删除功能实现" class="header-anchor">#</a> 删除功能实现</h2> <h2 id="删除链接绑定单击事件处理函数"><a href="#删除链接绑定单击事件处理函数" class="header-anchor">#</a> 删除链接绑定单击事件处理函数</h2> <ul><li>利用 <code>tbody</code> 容器，通过<strong>事件委派</strong>的方式，给动态创建的<code>a</code>标签绑定事件</li> <li>删除图书需要通过<code>id</code>删除，所以我们需要得到对应的<code>id</code>，我们利用自定义属性的方式，传递过来相应的<code>id</code></li></ul> <h2 id="删除功能实现-2"><a href="#删除功能实现-2" class="header-anchor">#</a> 删除功能实现</h2> <ul><li>查阅<strong>删除</strong>的接口文档</li> <li>在 a 标签点击事件处理函数里面利用<code>$.get()</code>方法，请求服务器，传入要删除的对应<code>id</code></li> <li>删除成功之后，调用 <code>getBookList()</code> 刷新页面</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;tbody&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;.del&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> id <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">&quot;data-id&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  $<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>
    <span class="token string">&quot;http://www.liulongbin.top:3006/api/delbook&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      id<span class="token operator">:</span> id<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>status <span class="token operator">!==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;删除图书失败！&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">getBookList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="添加功能实现"><a href="#添加功能实现" class="header-anchor">#</a> 添加功能实现</h2> <h2 id="添加按钮绑定点击事件"><a href="#添加按钮绑定点击事件" class="header-anchor">#</a> 添加按钮绑定点击事件</h2> <ul><li>获取三个输入框的内容</li> <li>判断三个输入框是否输入了内容，如果没有进行提示</li></ul> <h2 id="实现图书添加功能"><a href="#实现图书添加功能" class="header-anchor">#</a> 实现图书添加功能</h2> <ul><li>查阅接口文档</li> <li>注意接口文档需要提交的参数名，我们需要保持一致</li> <li>调用<code>$.post()</code> 方法，传入请求路径，然后组拼需要提交的参数</li> <li>在成功回调里面判断返回值是否是 201，如果是 201 代表成功，反之没有成功，进行提示</li> <li>请求成功之后，调用<code>gettBookList()</code> 方法刷新页面，同时把输入框里面值清空</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#btnAdd&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> bookname <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#iptBookname&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> author <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#iptAuthor&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> publisher <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#iptPublisher&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>bookname<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">0</span> <span class="token operator">||</span> author<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">0</span> <span class="token operator">||</span> publisher<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;请填写完整的图书信息！&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  $<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span>
    <span class="token string">&quot;http://www.liulongbin.top:3006/api/addbook&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      bookname<span class="token operator">:</span> bookname<span class="token punctuation">,</span>
      author<span class="token operator">:</span> author<span class="token punctuation">,</span>
      publisher<span class="token operator">:</span> publisher<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>status <span class="token operator">!==</span> <span class="token number">201</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;添加图书失败！&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">getBookList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#iptBookname&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#iptAuthor&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#iptPublisher&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h2 id="聊天机器人"><a href="#聊天机器人" class="header-anchor">#</a> 聊天机器人</h2> <h2 id="效果"><a href="#效果" class="header-anchor">#</a> 效果</h2> <p><img src="/zz-web/assets/img/28.d4f1711f.png" alt=""></p> <h2 id="实现功能点"><a href="#实现功能点" class="header-anchor">#</a> 实现功能点</h2> <ul><li><p>梳理案例代码结构</p></li> <li><p>将用户输入的内容渲染到聊天窗口</p></li> <li><p>发起请求获取聊天消息</p></li> <li><p>将机器人的聊天内容转为语音</p></li> <li><p>通过 <code>&lt;audio&gt;</code> 播放语音</p></li> <li><p>使用回车发送消息</p></li></ul> <h2 id="在线接口文档"><a href="#在线接口文档" class="header-anchor">#</a> 在线接口文档</h2> <p><a href="https://www.showdoc.com.cn/ajaxapi?page_id=3753323218792173" target="_blank" rel="noopener noreferrer">https://www.showdoc.com.cn/ajaxapi?page_id=3753323218792173<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="url"><a href="#url" class="header-anchor">#</a> url</h2> <p>API 接口的请求根路径为 <code>http://www.liulongbin.top:3006</code></p> <p>(注意，案例中的 url 开头换这个 url)</p> <h2 id="梳理案例的代码结构"><a href="#梳理案例的代码结构" class="header-anchor">#</a> 梳理案例的代码结构</h2> <ul><li><p><code>UI</code>结构梳理</p> <p><img src="/zz-web/assets/img/29.ff40bf45.png" alt=""></p></li> <li><p>业务代码抽离</p></li> <li><p><code>resetui()</code> 函数作用-让聊天框区域自动滚动到底部</p></li></ul> <h2 id="将用户输入的内容渲染到聊天窗口"><a href="#将用户输入的内容渲染到聊天窗口" class="header-anchor">#</a> 将用户输入的内容渲染到聊天窗口</h2> <ul><li>为发送按钮绑定点击事件</li> <li>在点击事件函数里面判断一下用户输入内容是否为空，注意：如果为空，我们清除一下输入框内容</li> <li>获取到对应的<code>ul</code>容器，调用 <code>append</code> 函数来追加 <code>li</code>，注意：追加<code>li</code>的类名叫做 <code>right_word</code></li> <li>清除文本输入框的值</li> <li>最后调用一下 <code>resetui()</code>，让聊天框区域自动滚动到底部</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 为发送按钮绑定鼠标点击事件</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#btnSend&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> text <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#ipt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>text<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#ipt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 如果用户输入了聊天内容，则将聊天内容追加到页面上显示</span>
  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#talk_list&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>
    <span class="token string">'&lt;li class=&quot;right_word&quot;&gt;&lt;img src=&quot;img/person02.png&quot; /&gt; &lt;span&gt;'</span> <span class="token operator">+</span>
      text <span class="token operator">+</span>
      <span class="token string">&quot;&lt;/span&gt;&lt;/li&gt;&quot;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#ipt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 重置滚动条的位置</span>
  <span class="token function">resetui</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h2 id="发起请求获取聊天信息"><a href="#发起请求获取聊天信息" class="header-anchor">#</a> 发起请求获取聊天信息</h2> <ul><li>定义一个函数 <code>getMsg()</code> 接收一个参数，参数就是用户发送的信息</li> <li>利用 <code>$.ajax()</code> 发送一个 GET 方式请求，传入请求地址 <code>http://www.liulongbin.top:3006/api/robot</code></li> <li>定义请求数据 <code>spoken：value</code></li> <li>定义<code>success</code>成功的回调，在回调函数里面判断返回数据的 <code>message</code> 是否等于 <code>success</code></li> <li>给容器动态添加返回的内容</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 获取聊天机器人发送回来的消息</span>
<span class="token keyword">function</span> <span class="token function">getMsg</span><span class="token punctuation">(</span><span class="token parameter">text</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    method<span class="token operator">:</span> <span class="token string">&quot;GET&quot;</span><span class="token punctuation">,</span>
    url<span class="token operator">:</span> <span class="token string">&quot;http://www.liulongbin.top:3006/api/robot&quot;</span><span class="token punctuation">,</span>
    data<span class="token operator">:</span> <span class="token punctuation">{</span>
      spoken<span class="token operator">:</span> text<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// console.log(res)</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>message <span class="token operator">===</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 接收聊天消息</span>
        <span class="token keyword">var</span> msg <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>info<span class="token punctuation">.</span>text<span class="token punctuation">;</span>
        <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#talk_list&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>
          <span class="token string">'&lt;li class=&quot;left_word&quot;&gt;&lt;img src=&quot;img/person01.png&quot; /&gt; &lt;span&gt;'</span> <span class="token operator">+</span>
            msg <span class="token operator">+</span>
            <span class="token string">&quot;&lt;/span&gt;&lt;/li&gt;&quot;</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 重置滚动条的位置</span>
        <span class="token function">resetui</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h2 id="将机器人聊天内容转成语音"><a href="#将机器人聊天内容转成语音" class="header-anchor">#</a> 将机器人聊天内容转成语音</h2> <ul><li>封装函数 <code>getVoice()</code> 接收一个参数，机器人的聊天信息</li> <li>利用 <code>$.ajax()</code> 发送一个 GET 方式请求，传入请求地址 <code>http://www.liulongbin.top:3006/api/synthesize</code></li> <li>定义请求数据 <code>text：value</code></li> <li>定义<code>success</code>成功的回调，判断返回的状态码是否是 200，如果是代表成功</li> <li>在页面上定义 <code>audio</code> 标签，设置隐藏，等数据返回之后，利用这个 <code>audio</code> 来进行播放。设置 <code>autoplay</code> 属性来进行自动播放</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 把文字转化为语音进行播放</span>
<span class="token keyword">function</span> <span class="token function">getVoice</span><span class="token punctuation">(</span><span class="token parameter">text</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    method<span class="token operator">:</span> <span class="token string">&quot;GET&quot;</span><span class="token punctuation">,</span>
    url<span class="token operator">:</span> <span class="token string">&quot;http://www.liulongbin.top:3006/api/synthesize&quot;</span><span class="token punctuation">,</span>
    data<span class="token operator">:</span> <span class="token punctuation">{</span>
      text<span class="token operator">:</span> text<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// console.log(res)</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 播放语音</span>
        <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#voice&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">&quot;src&quot;</span><span class="token punctuation">,</span> res<span class="token punctuation">.</span>voiceUrl<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h2 id="通过回车键发送消息"><a href="#通过回车键发送消息" class="header-anchor">#</a> 通过回车键发送消息</h2> <ul><li>给文本输入框注册 <code>keyup</code> 事件，按键弹起的事件监听</li> <li>在事件函数里面，通过<code>keycode</code> 来获取对应的按键的 机器码</li> <li>判断 <code>keycode</code> 是否等于 13（不需要去记忆，开发时候打印调试一下就行了），如果是，代表是回车键</li> <li>如果是回车键，模拟用户点击： <code>$('#btnSend').click()</code></li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 为文本框绑定 keyup 事件</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#ipt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;keyup&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// console.log(e.keyCode)</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>keyCode <span class="token operator">===</span> <span class="token number">13</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// console.log('用户弹起了回车键')</span>
    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#btnSend&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/zz-web/study/AJAX/day02/02.html">
        Ajax - day02
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/zz-web/assets/js/app.083f945b.js" defer></script><script src="/zz-web/assets/js/2.f2240049.js" defer></script><script src="/zz-web/assets/js/7.29dbb4cd.js" defer></script>
  </body>
</html>
