<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>NodeJs - day05 | 前端笔记</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="在线笔记">
    
    <link rel="preload" href="/zz-web/assets/css/0.styles.e073ff23.css" as="style"><link rel="preload" href="/zz-web/assets/js/app.b1cdf2e6.js" as="script"><link rel="preload" href="/zz-web/assets/js/2.5013479a.js" as="script"><link rel="preload" href="/zz-web/assets/js/9.30b2ab4c.js" as="script"><link rel="prefetch" href="/zz-web/assets/js/10.ac96b689.js"><link rel="prefetch" href="/zz-web/assets/js/11.6707adfe.js"><link rel="prefetch" href="/zz-web/assets/js/12.d20425ff.js"><link rel="prefetch" href="/zz-web/assets/js/13.49cfa6fe.js"><link rel="prefetch" href="/zz-web/assets/js/14.054e91c7.js"><link rel="prefetch" href="/zz-web/assets/js/15.9e9a6a8c.js"><link rel="prefetch" href="/zz-web/assets/js/16.3efdbfae.js"><link rel="prefetch" href="/zz-web/assets/js/17.6bbd9de7.js"><link rel="prefetch" href="/zz-web/assets/js/18.64f6389b.js"><link rel="prefetch" href="/zz-web/assets/js/19.7136d2df.js"><link rel="prefetch" href="/zz-web/assets/js/20.20ab9b4e.js"><link rel="prefetch" href="/zz-web/assets/js/21.6847bc34.js"><link rel="prefetch" href="/zz-web/assets/js/22.9b8ba370.js"><link rel="prefetch" href="/zz-web/assets/js/23.98836ca9.js"><link rel="prefetch" href="/zz-web/assets/js/24.5d329956.js"><link rel="prefetch" href="/zz-web/assets/js/25.8bb836c7.js"><link rel="prefetch" href="/zz-web/assets/js/26.535beb11.js"><link rel="prefetch" href="/zz-web/assets/js/27.c423aecd.js"><link rel="prefetch" href="/zz-web/assets/js/28.c2477818.js"><link rel="prefetch" href="/zz-web/assets/js/29.111ef23b.js"><link rel="prefetch" href="/zz-web/assets/js/3.4007356d.js"><link rel="prefetch" href="/zz-web/assets/js/30.6d7fdb1b.js"><link rel="prefetch" href="/zz-web/assets/js/31.051f0520.js"><link rel="prefetch" href="/zz-web/assets/js/32.7534eb50.js"><link rel="prefetch" href="/zz-web/assets/js/33.a284270b.js"><link rel="prefetch" href="/zz-web/assets/js/34.37e79ede.js"><link rel="prefetch" href="/zz-web/assets/js/35.facd9233.js"><link rel="prefetch" href="/zz-web/assets/js/36.5c5dce6c.js"><link rel="prefetch" href="/zz-web/assets/js/37.cb2f9bb1.js"><link rel="prefetch" href="/zz-web/assets/js/38.606d7188.js"><link rel="prefetch" href="/zz-web/assets/js/39.3d03c233.js"><link rel="prefetch" href="/zz-web/assets/js/4.7c8ab5c4.js"><link rel="prefetch" href="/zz-web/assets/js/40.b0f17d4f.js"><link rel="prefetch" href="/zz-web/assets/js/41.352953e9.js"><link rel="prefetch" href="/zz-web/assets/js/42.00035bd6.js"><link rel="prefetch" href="/zz-web/assets/js/43.faaf246d.js"><link rel="prefetch" href="/zz-web/assets/js/44.19e42896.js"><link rel="prefetch" href="/zz-web/assets/js/45.1d6b5fcd.js"><link rel="prefetch" href="/zz-web/assets/js/46.b96f3f3d.js"><link rel="prefetch" href="/zz-web/assets/js/47.124a94d3.js"><link rel="prefetch" href="/zz-web/assets/js/48.5522be19.js"><link rel="prefetch" href="/zz-web/assets/js/49.fcc2d11f.js"><link rel="prefetch" href="/zz-web/assets/js/5.0f60f08d.js"><link rel="prefetch" href="/zz-web/assets/js/50.b1d4baaf.js"><link rel="prefetch" href="/zz-web/assets/js/51.11e8a982.js"><link rel="prefetch" href="/zz-web/assets/js/52.2d52565f.js"><link rel="prefetch" href="/zz-web/assets/js/53.3990b1ef.js"><link rel="prefetch" href="/zz-web/assets/js/54.21b036ba.js"><link rel="prefetch" href="/zz-web/assets/js/55.7df4faa1.js"><link rel="prefetch" href="/zz-web/assets/js/56.36a9fef1.js"><link rel="prefetch" href="/zz-web/assets/js/57.1405b575.js"><link rel="prefetch" href="/zz-web/assets/js/58.71659a1f.js"><link rel="prefetch" href="/zz-web/assets/js/59.223decd4.js"><link rel="prefetch" href="/zz-web/assets/js/6.c5f73478.js"><link rel="prefetch" href="/zz-web/assets/js/60.bc1cf3c3.js"><link rel="prefetch" href="/zz-web/assets/js/61.a392432d.js"><link rel="prefetch" href="/zz-web/assets/js/62.abf5481b.js"><link rel="prefetch" href="/zz-web/assets/js/63.0e9a45b3.js"><link rel="prefetch" href="/zz-web/assets/js/64.b4acfca3.js"><link rel="prefetch" href="/zz-web/assets/js/65.73e3696f.js"><link rel="prefetch" href="/zz-web/assets/js/66.ca607bc2.js"><link rel="prefetch" href="/zz-web/assets/js/67.0cff7f64.js"><link rel="prefetch" href="/zz-web/assets/js/7.e00219a1.js"><link rel="prefetch" href="/zz-web/assets/js/8.973145c5.js">
    <link rel="stylesheet" href="/zz-web/assets/css/0.styles.e073ff23.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/zz-web/" class="home-link router-link-active"><img src="./logo.png" alt="前端笔记" class="logo"> <span class="site-name can-hide">前端笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/zz-web/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="开班教程" class="dropdown-title"><span class="title">开班教程</span> <span class="arrow down"></span></button> <button type="button" aria-label="开班教程" class="mobile-dropdown-title"><span class="title">开班教程</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://fanyouf.gitee.io/u1word/#/h5" target="_blank" rel="noopener noreferrer" class="nav-link external">
  单词掌握
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="开发工具" class="dropdown-title"><span class="title">开发工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="开发工具" class="mobile-dropdown-title"><span class="title">开发工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zz-web/" class="nav-link">
  VsCode
</a></li><li class="dropdown-item"><!----> <a href="/zz-web/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/zz-web/" class="nav-link">
  MySql
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="课程笔记" class="dropdown-title"><span class="title">课程笔记</span> <span class="arrow down"></span></button> <button type="button" aria-label="课程笔记" class="mobile-dropdown-title"><span class="title">课程笔记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          课程笔记
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/zz-web/study/AJAX/day01/01.html" class="nav-link">
  AJAX
</a></li><li class="dropdown-subitem"><a href="/zz-web/study/BigEvent/day01/01.html" class="nav-link">
  BigEvent
</a></li><li class="dropdown-subitem"><a href="/zz-web/study/Eacharts/day01/01.html" class="nav-link">
  Eacharts
</a></li><li class="dropdown-subitem"><a href="/zz-web/study/Git/day01/01.html" class="nav-link">
  Git
</a></li><li class="dropdown-subitem"><a href="/zz-web/study/JS基础/js-day01/01.html" class="nav-link">
  JS基础
</a></li><li class="dropdown-subitem"><a href="/zz-web/study/Jquery/day01/01.html" class="nav-link">
  Jquery
</a></li><li class="dropdown-subitem"><a href="/zz-web/study/Js高级/js高级day01/JavaScript高级第01天笔记.html" class="nav-link">
  Js高级
</a></li><li class="dropdown-subitem"><a href="/zz-web/study/NodeJs/day01/01.html" class="nav-link">
  NodeJs
</a></li><li class="dropdown-subitem"><a href="/zz-web/study/Vue基础/Day01/01.html" class="nav-link">
  Vue基础
</a></li><li class="dropdown-subitem"><a href="/zz-web/study/webAPI/day01/01.html" class="nav-link">
  webAPI
</a></li><li class="dropdown-subitem"><a href="/zz-web/study/黑马头条/day01/01-项目初始化.html" class="nav-link">
  黑马头条
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://www.apifox.cn/apidoc/shared-fa9274ac-362e-4905-806b-6135df6aa90e/doc-842135" target="_blank" rel="noopener noreferrer" class="nav-link external">
  在线Api接口
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="http://heima-project.gitee.io/fe-up/#/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  面试宝典
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/zz-web/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="开班教程" class="dropdown-title"><span class="title">开班教程</span> <span class="arrow down"></span></button> <button type="button" aria-label="开班教程" class="mobile-dropdown-title"><span class="title">开班教程</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://fanyouf.gitee.io/u1word/#/h5" target="_blank" rel="noopener noreferrer" class="nav-link external">
  单词掌握
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="开发工具" class="dropdown-title"><span class="title">开发工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="开发工具" class="mobile-dropdown-title"><span class="title">开发工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zz-web/" class="nav-link">
  VsCode
</a></li><li class="dropdown-item"><!----> <a href="/zz-web/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/zz-web/" class="nav-link">
  MySql
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="课程笔记" class="dropdown-title"><span class="title">课程笔记</span> <span class="arrow down"></span></button> <button type="button" aria-label="课程笔记" class="mobile-dropdown-title"><span class="title">课程笔记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          课程笔记
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/zz-web/study/AJAX/day01/01.html" class="nav-link">
  AJAX
</a></li><li class="dropdown-subitem"><a href="/zz-web/study/BigEvent/day01/01.html" class="nav-link">
  BigEvent
</a></li><li class="dropdown-subitem"><a href="/zz-web/study/Eacharts/day01/01.html" class="nav-link">
  Eacharts
</a></li><li class="dropdown-subitem"><a href="/zz-web/study/Git/day01/01.html" class="nav-link">
  Git
</a></li><li class="dropdown-subitem"><a href="/zz-web/study/JS基础/js-day01/01.html" class="nav-link">
  JS基础
</a></li><li class="dropdown-subitem"><a href="/zz-web/study/Jquery/day01/01.html" class="nav-link">
  Jquery
</a></li><li class="dropdown-subitem"><a href="/zz-web/study/Js高级/js高级day01/JavaScript高级第01天笔记.html" class="nav-link">
  Js高级
</a></li><li class="dropdown-subitem"><a href="/zz-web/study/NodeJs/day01/01.html" class="nav-link">
  NodeJs
</a></li><li class="dropdown-subitem"><a href="/zz-web/study/Vue基础/Day01/01.html" class="nav-link">
  Vue基础
</a></li><li class="dropdown-subitem"><a href="/zz-web/study/webAPI/day01/01.html" class="nav-link">
  webAPI
</a></li><li class="dropdown-subitem"><a href="/zz-web/study/黑马头条/day01/01-项目初始化.html" class="nav-link">
  黑马头条
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://www.apifox.cn/apidoc/shared-fa9274ac-362e-4905-806b-6135df6aa90e/doc-842135" target="_blank" rel="noopener noreferrer" class="nav-link external">
  在线Api接口
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="http://heima-project.gitee.io/fe-up/#/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  面试宝典
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/zz-web/study/NodeJs/day01/01.html" class="sidebar-link">NodeJs - day01</a></li><li><a href="/zz-web/study/NodeJs/day02/02.html" class="sidebar-link">NodeJs - day02</a></li><li><a href="/zz-web/study/NodeJs/day03/03.html" class="sidebar-link">NodeJs - day03</a></li><li><a href="/zz-web/study/NodeJs/day04/04.html" class="sidebar-link">NodeJs - day04</a></li><li><a href="/zz-web/study/NodeJs/day05/05.html" aria-current="page" class="active sidebar-link">NodeJs - day05</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zz-web/study/NodeJs/day05/05.html#_1-什么是数据库" class="sidebar-link">1. 什么是数据库</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/NodeJs/day05/05.html#_2-常见的数据库及分类" class="sidebar-link">2.常见的数据库及分类</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/NodeJs/day05/05.html#_3-传统型数据库的数据组织结构" class="sidebar-link">3.传统型数据库的数据组织结构</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/NodeJs/day05/05.html#_4-实际开发中库、表、行、字段的关系" class="sidebar-link">4.实际开发中库、表、行、字段的关系</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/NodeJs/day05/05.html#_1-了解需要安装哪些-mysql-相关的软件" class="sidebar-link">1.了解需要安装哪些 MySQL 相关的软件</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/NodeJs/day05/05.html#_2-mysql-在-mac-环境下的安装" class="sidebar-link">2. MySQL 在 Mac 环境下的安装</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/NodeJs/day05/05.html#_3-mysql-在-windows-环境下的安装" class="sidebar-link">3.MySQL 在 Windows 环境下的安装</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/NodeJs/day05/05.html#_1-使用-mysql-workbench-管理数据库" class="sidebar-link">1.使用 MySQL Workbench 管理数据库</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/NodeJs/day05/05.html#_1-什么是-sql" class="sidebar-link">1. 什么是 SQL</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/NodeJs/day05/05.html#_2-sql-能做什么" class="sidebar-link">2.SQL 能做什么</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/NodeJs/day05/05.html#_3-sql-的学习目标" class="sidebar-link">3. SQL 的学习目标</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/NodeJs/day05/05.html#_1-语法" class="sidebar-link">1. 语法</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/NodeJs/day05/05.html#_2-select-示例" class="sidebar-link">2. SELECT * 示例</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/NodeJs/day05/05.html#_3-select-列名称-示例" class="sidebar-link">3. SELECT 列名称 示例</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/NodeJs/day05/05.html#_1-语法-2" class="sidebar-link">1.语法</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/NodeJs/day05/05.html#_2-insert-into-示例" class="sidebar-link">2. INSERT INTO 示例</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/NodeJs/day05/05.html#_1-语法-3" class="sidebar-link">1. 语法</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/NodeJs/day05/05.html#_2-update-示例-更新某一行中的一个列" class="sidebar-link">2. UPDATE 示例 - 更新某一行中的一个列</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/NodeJs/day05/05.html#_3-update-示例-更新某一行中的若干列" class="sidebar-link">3. UPDATE 示例 - 更新某一行中的若干列</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/NodeJs/day05/05.html#_1-语法-4" class="sidebar-link">1. 语法</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/NodeJs/day05/05.html#_2-delete-示例" class="sidebar-link">2. DELETE 示例</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/NodeJs/day05/05.html#_1-语法-5" class="sidebar-link">1. 语法</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/NodeJs/day05/05.html#_2-可在-where-子句中使用的运算符" class="sidebar-link">2. 可在 WHERE 子句中使用的运算符</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/NodeJs/day05/05.html#_3-where-子句示例" class="sidebar-link">3. WHERE 子句示例</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/NodeJs/day05/05.html#_1-语法-6" class="sidebar-link">1. 语法</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/NodeJs/day05/05.html#_2-and-运算符示例" class="sidebar-link">2. AND 运算符示例</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/NodeJs/day05/05.html#_2-or-运算符示例" class="sidebar-link">2. OR 运算符示例</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/NodeJs/day05/05.html#_1-语法-7" class="sidebar-link">1. 语法</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/NodeJs/day05/05.html#_2-order-by-子句-升序排序" class="sidebar-link">2. ORDER BY 子句 - 升序排序</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/NodeJs/day05/05.html#_3-order-by-子句-降序排序" class="sidebar-link">3. ORDER BY 子句 – 降序排序</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/NodeJs/day05/05.html#_4-order-by-子句-多重排序" class="sidebar-link">4. ORDER BY 子句 – 多重排序</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/NodeJs/day05/05.html#_1-语法-8" class="sidebar-link">1. 语法</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/NodeJs/day05/05.html#_2-count-示例" class="sidebar-link">2. COUNT(*) 示例</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/NodeJs/day05/05.html#_3-使用-as-为列设置别名" class="sidebar-link">3.使用 AS 为列设置别名</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/NodeJs/day05/05.html#_1-在项目中操作数据库的步骤" class="sidebar-link">1 在项目中操作数据库的步骤</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/NodeJs/day05/05.html#_2-安装与配置-mysql-模块" class="sidebar-link">2 安装与配置 mysql 模块</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/NodeJs/day05/05.html#_1-查询数据" class="sidebar-link">1. 查询数据</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/NodeJs/day05/05.html#_2-插入数据" class="sidebar-link">2. 插入数据</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/NodeJs/day05/05.html#_3-更新数据" class="sidebar-link">3. 更新数据</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/NodeJs/day05/05.html#_4-删除数据" class="sidebar-link">4. 删除数据</a></li><li class="sidebar-sub-header"><a href="/zz-web/study/NodeJs/day05/05.html#_5-标记删除" class="sidebar-link">5. 标记删除</a></li></ul></li><li><a href="/zz-web/study/NodeJs/day06/06.html" class="sidebar-link">NodeJs - day06</a></li><li><a href="/zz-web/study/NodeJs/day07/07.html" class="sidebar-link">NodeJs - day07</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="nodejs-day05"><a href="#nodejs-day05" class="header-anchor">#</a> NodeJs - day05</h1> <h1 id="目标"><a href="#目标" class="header-anchor">#</a> 目标</h1> <ul><li>能够安装和配置 MySQL 数据库的环境</li> <li>能够了解常用的 SQL 语句的语法格式</li> <li>能够知道如何安装与配置 mysql 模块</li> <li>能够知道如何使用 mysql 模块执行 SQL 语句</li></ul> <h1 id="数据库的基本概念"><a href="#数据库的基本概念" class="header-anchor">#</a> 数据库的基本概念</h1> <h2 id="_1-什么是数据库"><a href="#_1-什么是数据库" class="header-anchor">#</a> 1. 什么是数据库</h2> <p>数据库（database）是用来组织、存储和管理数据的仓库。</p> <p>当今世界是一个充满着数据的互联网世界，充斥着大量的数据。数据的来源有很多，比如出行记录、消费记录、 浏览的网页、发送的消息等等。除了文本类型的数据，图像、音乐、声音都是数据。</p> <p>为了方便管理互联网世界中的数据，就有了数据库管理系统的概念（简称：数据库）。用户可以对数据库中的数 据进行新增、查询、更新、删除等操作。</p> <h2 id="_2-常见的数据库及分类"><a href="#_2-常见的数据库及分类" class="header-anchor">#</a> 2.常见的数据库及分类</h2> <p>市面上的数据库有很多种，最常见的数据库有如下几个：</p> <ul><li><p>MySQL 数据库（目前使用最广泛、流行度最高的开源免费数据库；Community + Enterprise）</p></li> <li><p>Oracle 数据库（收费）</p></li> <li><p>SQL Server 数据库（收费）</p></li> <li><p>Mongodb 数据库（Community + Enterprise）</p> <p><strong>其中，MySQL、Oracle、SQL Server 属于传统型数据库（又叫做：关系型数据库或 SQL 数据库），这三者的 设计理念相同，用法比较类似。</strong></p> <p><strong>而 Mongodb 属于新型数据库（又叫做：非关系型数据库或 NoSQL 数据库），它在一定程度上弥补了传统型 数据库的缺陷。</strong></p></li></ul> <h2 id="_3-传统型数据库的数据组织结构"><a href="#_3-传统型数据库的数据组织结构" class="header-anchor">#</a> 3.传统型数据库的数据组织结构</h2> <p><img src="/zz-web/assets/img/image-20201122222241538.92f844ae.png" alt="image-20201122222241538"></p> <h2 id="_4-实际开发中库、表、行、字段的关系"><a href="#_4-实际开发中库、表、行、字段的关系" class="header-anchor">#</a> 4.实际开发中库、表、行、字段的关系</h2> <p><strong>① 在实际项目开发中，一般情况下，每个项目都对应独立的数据库。</strong> <strong>② 不同的数据，要存储到数据库的不同表中，例如：用户数据存储到 users 表中，图书数据存储到 books 表中。</strong> <strong>③ 每个表中具体存储哪些信息，由字段来决定，例如：我们可以为 users 表设计 id、username、password 这 3 个 字段。</strong> <strong>④ 表中的行，代表每一条具体的数据。</strong></p> <h1 id="安装与配置-mysql"><a href="#安装与配置-mysql" class="header-anchor">#</a> 安装与配置 mysql</h1> <h2 id="_1-了解需要安装哪些-mysql-相关的软件"><a href="#_1-了解需要安装哪些-mysql-相关的软件" class="header-anchor">#</a> 1.了解需要安装哪些 MySQL 相关的软件</h2> <p>对于开发人员来说，只需要安装 MySQL Server 和 MySQL Workbench 这两个软件，就能满足开发的需要了。</p> <ul><li>MySQL Server：专门用来提供数据存储和服务的软件。</li> <li>MySQL Workbench：可视化的 MySQL 管理工具，通过它，可以方便的操作存储在 MySQL Server 中的数据。</li></ul> <h2 id="_2-mysql-在-mac-环境下的安装"><a href="#_2-mysql-在-mac-环境下的安装" class="header-anchor">#</a> 2. MySQL 在 Mac 环境下的安装</h2> <p>在 Mac 环境下安装 MySQL 的过程比 Windows 环境下的步骤简单很多：</p> <p>① 先运行 mysql-8.0.19-macos10.15-x86_64.dmg 这个安装包，将 MySQL Server 安装到 Mac 系统</p> <p>② 再运行 mysql-workbench-community-8.0.19-macos-x86_64.dmg 这个安装包，将可视化的 MySQL Workbench 工具安装到 Mac 系统</p> <p><strong>具体的安装教程，可以参考 素材 -&gt; MySQL for Mac -&gt;安装教程- Mac 系统安装 MySql-&gt; README.md</strong></p> <h2 id="_3-mysql-在-windows-环境下的安装"><a href="#_3-mysql-在-windows-环境下的安装" class="header-anchor">#</a> 3.MySQL 在 Windows 环境下的安装</h2> <p>在 Windows 环境下安装 MySQL，只需要运行 mysql-installer-community-8.0.19.0.msi 这个安装包，就能一次 性将 MySQL Server 和 MySQL Workbench 安装到自己的电脑上。
<strong>具体的安装教程，可以参考 素材 -&gt; MySQL for Windows -&gt;安装教程 - Windows 系统安装 MySql-&gt; README.md</strong></p> <h1 id="mysql-的基本使用"><a href="#mysql-的基本使用" class="header-anchor">#</a> MySQL 的基本使用</h1> <h2 id="_1-使用-mysql-workbench-管理数据库"><a href="#_1-使用-mysql-workbench-管理数据库" class="header-anchor">#</a> 1.使用 MySQL Workbench 管理数据库</h2> <ol><li><p>连接数据库</p> <p><img src="/zz-web/assets/img/image-20201122222711276.2fd15f77.png" alt="image-20201122222711276"></p></li> <li><p>了解主界面的组成部分</p></li></ol> <p><img src="/zz-web/assets/img/image-20201122222733936.a8be4057.png" alt="image-20201122222733936"></p> <ol start="3"><li>创建数据库</li></ol> <p><img src="/zz-web/assets/img/image-20201122222753236.41e85323.png" alt="image-20201122222753236"></p> <ol start="4"><li>创建数据表</li></ol> <p><img src="/zz-web/assets/img/image-20201122222810510.1a65816c.png" alt="image-20201122222810510"></p> <ol start="5"><li>向表中写入数据</li></ol> <p><img src="/zz-web/assets/img/image-20201122222844318.539572ca.png" alt="image-20201122222844318"></p> <h1 id="使用-sql-管理数据库"><a href="#使用-sql-管理数据库" class="header-anchor">#</a> 使用 SQL 管理数据库</h1> <h2 id="_1-什么是-sql"><a href="#_1-什么是-sql" class="header-anchor">#</a> 1. 什么是 SQL</h2> <p>SQL（英文全称：Structured Query Language）是结构化查询语言，专门用来访问和处理数据库的编程语言。能够让 我们以编程的形式，操作数据库里面的数据。
三个关键点：
<strong>① SQL 是一门数据库编程语言</strong> <strong>② 使用 SQL 语言编写出来的代码，叫做 SQL 语句</strong> <strong>③ SQL 语言只能在关系型数据库中使用（例如 MySQL、Oracle、SQL Server）。非关系型数据库（例如 Mongodb） 不支持 SQL 语言</strong></p> <h2 id="_2-sql-能做什么"><a href="#_2-sql-能做什么" class="header-anchor">#</a> 2.SQL 能做什么</h2> <p><strong>① 从数据库中查询数据</strong> <strong>② 向数据库中插入新的数据</strong> <strong>③ 更新数据库中的数据</strong> <strong>④ 从数据库删除数据</strong> <strong>⑤ 可以创建新数据库</strong> <strong>⑥ 可在数据库中创建新表</strong> <strong>⑦ 可在数据库中创建存储过程、视图</strong> <strong>⑧ etc…</strong></p> <h2 id="_3-sql-的学习目标"><a href="#_3-sql-的学习目标" class="header-anchor">#</a> 3. SQL 的学习目标</h2> <p>重点掌握如何使用 SQL 从数据表中：
<strong>查询数据（select）、插入数据（insert into） 、更新数据（update）、删除数据（delete）</strong>
额外需要掌握的 4 种 SQL 语法：
<strong>where 条件、and 和 or 运算符、order by 排序、count(*) 函数</strong></p> <h1 id="select-语句"><a href="#select-语句" class="header-anchor">#</a> SELECT 语句</h1> <h2 id="_1-语法"><a href="#_1-语法" class="header-anchor">#</a> 1. 语法</h2> <p>SELECT 语句用于从表中查询数据。执行的结果被存储在一个结果表中（称为结果集）。语法格式如下</p> <p><img src="/zz-web/assets/img/image-20201123181900944.0d57029d.png" alt="image-20201123181900944"></p> <p>注意：SQL 语句中的关键字对大小写不敏感。SELECT 等效于 select，FROM 等效于 from</p> <h2 id="_2-select-示例"><a href="#_2-select-示例" class="header-anchor">#</a> 2. SELECT * 示例</h2> <p>我们希望从 users 表中选取所有的列，可以使用符号 * 取代列的名称，示例如下：</p> <p><img src="/zz-web/assets/img/image-20201123181928952.d58ef67b.png" alt="image-20201123181928952"></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> users
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="_3-select-列名称-示例"><a href="#_3-select-列名称-示例" class="header-anchor">#</a> 3. SELECT 列名称 示例</h2> <p>如需获取名为&quot;username&quot; 和 &quot;password&quot; 的列的内容（从名为 &quot;users&quot; 的数据库表），请使用下面的 SELECT 语句：</p> <p><img src="/zz-web/assets/img/image-20201123182010295.6721b724.png" alt="image-20201123182010295"></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> username <span class="token punctuation">,</span> password <span class="token keyword">from</span> users
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h1 id="insert-into-语句"><a href="#insert-into-语句" class="header-anchor">#</a> INSERT INTO 语句</h1> <h2 id="_1-语法-2"><a href="#_1-语法-2" class="header-anchor">#</a> 1.语法</h2> <p>INSERT INTO 语句用于向数据表中插入新的数据行，语法格式如下：</p> <p><img src="/zz-web/assets/img/image-20201123182101257.efbf730b.png" alt="image-20201123182101257"></p> <h2 id="_2-insert-into-示例"><a href="#_2-insert-into-示例" class="header-anchor">#</a> 2. INSERT INTO 示例</h2> <p>向 users 表中，插入一条 username 为 tony stark，password 为 098123 的用户数据，示例如下：</p> <p><img src="/zz-web/assets/img/image-20201123182136449.09bca8b0.png" alt="image-20201123182136449"></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">insert</span> <span class="token keyword">into</span> users <span class="token punctuation">(</span>username<span class="token punctuation">,</span>password<span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token string">'tony stark'</span><span class="token punctuation">,</span><span class="token string">'098123'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h1 id="update-语句"><a href="#update-语句" class="header-anchor">#</a> UPDATE 语句</h1> <h2 id="_1-语法-3"><a href="#_1-语法-3" class="header-anchor">#</a> 1. 语法</h2> <p>Update 语句用于修改表中的数据。语法格式如下：</p> <p><img src="/zz-web/assets/img/image-20201123182250882.2e03ed21.png" alt="image-20201123182250882"></p> <h2 id="_2-update-示例-更新某一行中的一个列"><a href="#_2-update-示例-更新某一行中的一个列" class="header-anchor">#</a> 2. UPDATE 示例 - 更新某一行中的一个列</h2> <p>把 users 表中 id 为 7 的用户密码，更新为 888888。示例如下：</p> <p><img src="/zz-web/assets/img/image-20201123182316170.49da06dc.png" alt="image-20201123182316170"></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">update</span> users <span class="token keyword">set</span> password <span class="token operator">=</span><span class="token string">'888888'</span> <span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="_3-update-示例-更新某一行中的若干列"><a href="#_3-update-示例-更新某一行中的若干列" class="header-anchor">#</a> 3. UPDATE 示例 - 更新某一行中的若干列</h2> <p>把 users 表中 id 为 2 的用户密码和用户状态，分别更新为 admin123 和 1。示例如下：</p> <p><img src="/zz-web/assets/img/image-20201123182416874.051cd517.png" alt="image-20201123182416874"></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">update</span> users <span class="token keyword">set</span> password <span class="token operator">=</span> <span class="token string">&quot;admin&quot;</span><span class="token punctuation">,</span> <span class="token keyword">status</span><span class="token operator">=</span><span class="token number">1</span> <span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token number">2</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h1 id="delete-语句"><a href="#delete-语句" class="header-anchor">#</a> DELETE 语句</h1> <h2 id="_1-语法-4"><a href="#_1-语法-4" class="header-anchor">#</a> 1. 语法</h2> <p>DELETE 语句用于删除表中的行。语法格式如下：</p> <p><img src="/zz-web/assets/img/image-20201123182513955.20041da9.png" alt="image-20201123182513955"></p> <h2 id="_2-delete-示例"><a href="#_2-delete-示例" class="header-anchor">#</a> 2. DELETE 示例</h2> <p>从 users 表中，删除 id 为 4 的用户，示例如下</p> <p><img src="/zz-web/assets/img/image-20201123182532319.e4ccc9a9.png" alt="image-20201123182532319"></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">delete</span> <span class="token keyword">from</span> users <span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token number">4</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h1 id="where-子句"><a href="#where-子句" class="header-anchor">#</a> WHERE 子句</h1> <h2 id="_1-语法-5"><a href="#_1-语法-5" class="header-anchor">#</a> 1. 语法</h2> <p>WHERE 子句用于限定选择的标准。在 SELECT、UPDATE、DELETE 语句中，皆可使用 WHERE 子句来限定选择的标准。</p> <p><img src="/zz-web/assets/img/image-20201123182612123.91c6ccb2.png" alt="image-20201123182612123"></p> <h2 id="_2-可在-where-子句中使用的运算符"><a href="#_2-可在-where-子句中使用的运算符" class="header-anchor">#</a> 2. 可在 WHERE 子句中使用的运算符</h2> <p>下面的运算符可在 WHERE 子句中使用，用来限定选择的标准：</p> <p><img src="/zz-web/assets/img/image-20201123182632908.bff00ad7.png" alt="image-20201123182632908"></p> <h2 id="_3-where-子句示例"><a href="#_3-where-子句示例" class="header-anchor">#</a> 3. WHERE 子句示例</h2> <p>可以通过 WHERE 子句来限定 SELECT 的查询条件：</p> <p><img src="/zz-web/assets/img/image-20201123182655303.d669d34b.png" alt="image-20201123182655303"></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> users <span class="token keyword">where</span> <span class="token keyword">status</span> <span class="token operator">=</span> <span class="token number">1</span>

<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> users <span class="token keyword">where</span>  id <span class="token operator">&gt;</span> <span class="token number">2</span>

<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> users <span class="token keyword">where</span>  username <span class="token operator">&lt;&gt;</span> <span class="token string">'admin'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h1 id="and-和-or-运算符"><a href="#and-和-or-运算符" class="header-anchor">#</a> AND 和 OR 运算符</h1> <h2 id="_1-语法-6"><a href="#_1-语法-6" class="header-anchor">#</a> 1. 语法</h2> <p><strong>AND 和 OR 可在 WHERE 子语句中把两个或多个条件结合起来。</strong> <strong>AND 表示必须同时满足多个条件，相当于 JavaScript 中的 &amp;&amp; 运算符，例如 if (a !== 10 &amp;&amp; a !== 20)</strong> <strong>OR 表示只要满足任意一个条件即可，相当于 JavaScript 中的 || 运算符，例如 if(a !== 10 || a !== 20)</strong></p> <h2 id="_2-and-运算符示例"><a href="#_2-and-运算符示例" class="header-anchor">#</a> 2. AND 运算符示例</h2> <p>使用 AND 来显示所有 status 为 0，并且 id 小于 3 的用户：</p> <p><img src="/zz-web/assets/img/image-20201123182825089.f4e8a0f9.png" alt="image-20201123182825089"></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> users <span class="token keyword">where</span> <span class="token keyword">status</span><span class="token operator">=</span><span class="token number">0</span> <span class="token operator">and</span> id <span class="token operator">&lt;</span> <span class="token number">3</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="_2-or-运算符示例"><a href="#_2-or-运算符示例" class="header-anchor">#</a> 2. OR 运算符示例</h2> <p>使用 OR 来显示所有 status 为 1，或者 username 为 zs 的用户：</p> <p><img src="/zz-web/assets/img/image-20201123182913017.947778c3.png" alt="image-20201123182913017"></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> users <span class="token keyword">where</span> <span class="token keyword">status</span><span class="token operator">=</span><span class="token number">1</span> <span class="token operator">or</span> username<span class="token operator">=</span><span class="token string">'zs'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h1 id="order-by-子句"><a href="#order-by-子句" class="header-anchor">#</a> ORDER BY 子句</h1> <h2 id="_1-语法-7"><a href="#_1-语法-7" class="header-anchor">#</a> 1. 语法</h2> <p><strong>ORDER BY 语句用于根据指定的列对结果集进行排序。</strong> <strong>ORDER BY 语句默认按照升序对记录进行排序。</strong> <strong>如果您希望按照降序对记录进行排序，可以使用 DESC 关键字。</strong></p> <h2 id="_2-order-by-子句-升序排序"><a href="#_2-order-by-子句-升序排序" class="header-anchor">#</a> 2. ORDER BY 子句 - 升序排序</h2> <p>对 users 表中的数据，按照 status 字段进行升序排序，示例如下：</p> <p><img src="/zz-web/assets/img/image-20201123183017825.0385c8e1.png" alt="image-20201123183017825"></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> users <span class="token keyword">order</span> <span class="token keyword">by</span> <span class="token keyword">status</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> users <span class="token keyword">order</span> <span class="token keyword">by</span> <span class="token keyword">status</span> <span class="token keyword">asc</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="_3-order-by-子句-降序排序"><a href="#_3-order-by-子句-降序排序" class="header-anchor">#</a> 3. ORDER BY 子句 – 降序排序</h2> <p>对 users 表中的数据，按照 id 字段进行降序排序，示例如下：</p> <p><img src="/zz-web/assets/img/image-20201123183104552.81a637a7.png" alt="image-20201123183104552"></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> users <span class="token keyword">order</span> <span class="token keyword">by</span> id <span class="token keyword">desc</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="_4-order-by-子句-多重排序"><a href="#_4-order-by-子句-多重排序" class="header-anchor">#</a> 4. ORDER BY 子句 – 多重排序</h2> <p>对 users 表中的数据，先按照 status 字段进行降序排序，再按照 username 的字母顺序，进行升序排序，示例如下：</p> <p><img src="/zz-web/assets/img/image-20201123183143737.2814ffe8.png" alt="image-20201123183143737"></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> users <span class="token keyword">order</span> <span class="token keyword">by</span> <span class="token keyword">status</span> <span class="token keyword">desc</span><span class="token punctuation">,</span> username <span class="token keyword">asc</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h1 id="count-函数"><a href="#count-函数" class="header-anchor">#</a> COUNT(*) 函数</h1> <h2 id="_1-语法-8"><a href="#_1-语法-8" class="header-anchor">#</a> 1. 语法</h2> <p>COUNT(*) 函数用于返回查询结果的总数据条数，语法格式如下：</p> <p><img src="/zz-web/assets/img/image-20201123183234034.eaf8b01d.png" alt="image-20201123183234034"></p> <h2 id="_2-count-示例"><a href="#_2-count-示例" class="header-anchor">#</a> 2. COUNT(*) 示例</h2> <p>查询 users 表中 status 为 0 的总数据条数：</p> <p><img src="/zz-web/assets/img/image-20201123183251309.41b5e4dd.png" alt="image-20201123183251309"></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> users <span class="token keyword">where</span> <span class="token keyword">status</span> <span class="token operator">=</span> <span class="token number">0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="_3-使用-as-为列设置别名"><a href="#_3-使用-as-为列设置别名" class="header-anchor">#</a> 3.使用 AS 为列设置别名</h2> <p>如果希望给查询出来的列名称设置别名，可以使用 AS 关键字，示例如下：</p> <p><img src="/zz-web/assets/img/image-20201123183346274.4c6edcbb.png" alt="image-20201123183346274"></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">as</span> total <span class="token keyword">from</span> users <span class="token keyword">where</span> <span class="token keyword">status</span> <span class="token operator">=</span> <span class="token number">0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h1 id="在项目中操作-mysql"><a href="#在项目中操作-mysql" class="header-anchor">#</a> 在项目中操作 MySQL</h1> <h2 id="_1-在项目中操作数据库的步骤"><a href="#_1-在项目中操作数据库的步骤" class="header-anchor">#</a> 1 在项目中操作数据库的步骤</h2> <p><strong>① 安装操作 MySQL 数据库的第三方模块（mysql）</strong> <strong>② 通过 mysql 模块连接到 MySQL 数据库</strong> <strong>③ 通过 mysql 模块执行 SQL 语句</strong></p> <p><img src="/zz-web/assets/img/image-20201123183432418.a61772bc.png" alt="image-20201123183432418"></p> <h2 id="_2-安装与配置-mysql-模块"><a href="#_2-安装与配置-mysql-模块" class="header-anchor">#</a> 2 安装与配置 mysql 模块</h2> <h3 id="_1-安装-mysql-模块"><a href="#_1-安装-mysql-模块" class="header-anchor">#</a> 1.安装 mysql 模块</h3> <p>mysql 模块是托管于 npm 上的第三方模块。它提供了在 Node.js 项目中连接和操作 MySQL 数据库的能力。
想要在项目中使用它，需要先运行如下命令，将 mysql 安装为项目的依赖包：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">npm</span> <span class="token function">install</span> mysql
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_2-配置-mysql-模块"><a href="#_2-配置-mysql-模块" class="header-anchor">#</a> 2. 配置 mysql 模块</h3> <p>在使用 mysql 模块操作 MySQL 数据库之前，必须先对 mysql 模块进行必要的配置，主要的配置步骤如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 1. 导入 mysql 模块</span>
<span class="token keyword">const</span> mysql <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;mysql&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 2. 建立与 MySQL 数据库的连接关系</span>
<span class="token keyword">const</span> db <span class="token operator">=</span> mysql<span class="token punctuation">.</span><span class="token function">createPool</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  host<span class="token operator">:</span> <span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 数据库的 IP 地址</span>
  user<span class="token operator">:</span> <span class="token string">&quot;root&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 登录数据库的账号</span>
  password<span class="token operator">:</span> <span class="token string">&quot;admin123&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 登录数据库的密码</span>
  database<span class="token operator">:</span> <span class="token string">&quot;my_db_01&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 指定要操作哪个数据库</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="_3-测试-mysql-模块能否正常工作"><a href="#_3-测试-mysql-模块能否正常工作" class="header-anchor">#</a> 3. 测试 mysql 模块能否正常工作</h3> <p>调用 db.query() 函数，指定要执行的 SQL 语句，通过回调函数拿到执行的结果：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 测试 mysql 模块能否正常工作</span>
db<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token string">&quot;select 1&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> results</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// mysql 模块工作期间报错了</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">return</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 能够成功的执行 SQL 语句</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>results<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h1 id="使用-mysql-模块操作-mysql-数据库"><a href="#使用-mysql-模块操作-mysql-数据库" class="header-anchor">#</a> 使用 mysql 模块操作 MySQL 数据库</h1> <h2 id="_1-查询数据"><a href="#_1-查询数据" class="header-anchor">#</a> 1. 查询数据</h2> <p>查询 users 表中所有的数据：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 查询 users 表中所有的数据</span>
<span class="token keyword">const</span> sqlStr <span class="token operator">=</span> <span class="token string">&quot;select * from users&quot;</span><span class="token punctuation">;</span>
db<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span>sqlStr<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> results</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// 查询数据失败</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">return</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 查询数据成功</span>
  <span class="token comment">// 注意：如果执行的是 select 查询语句，则执行的结果是数组</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>results<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="_2-插入数据"><a href="#_2-插入数据" class="header-anchor">#</a> 2. 插入数据</h2> <p>向 users 表中新增数据， 其中 username 为 Spider-Man，password 为 pcc321。示例代码如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token punctuation">{</span> username<span class="token operator">:</span> <span class="token string">&quot;Spider-Man&quot;</span><span class="token punctuation">,</span> password<span class="token operator">:</span> <span class="token string">&quot;pcc123&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 定义待执行的 SQL 语句</span>
<span class="token keyword">const</span> sqlStr <span class="token operator">=</span> <span class="token string">&quot;insert into users (username, password) values (?, ?)&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// 执行 SQL 语句</span>
db<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span>sqlStr<span class="token punctuation">,</span> <span class="token punctuation">[</span>user<span class="token punctuation">.</span>username<span class="token punctuation">,</span> user<span class="token punctuation">.</span>password<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> results</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// 执行 SQL 语句失败了</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">return</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 成功了</span>
  <span class="token comment">// 注意：如果执行的是 insert into 插入语句，则 results 是一个对象</span>
  <span class="token comment">// 可以通过 affectedRows 属性，来判断是否插入数据成功</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>results<span class="token punctuation">.</span>affectedRows <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;插入数据成功!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>插入数据的便捷方式:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token punctuation">{</span> username<span class="token operator">:</span> <span class="token string">&quot;Spider-Man2&quot;</span><span class="token punctuation">,</span> password<span class="token operator">:</span> <span class="token string">&quot;pcc4321&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 定义待执行的 SQL 语句</span>
<span class="token keyword">const</span> sqlStr <span class="token operator">=</span> <span class="token string">&quot;insert into users set ?&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// 执行 SQL 语句</span>
db<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span>sqlStr<span class="token punctuation">,</span> user<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> results</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">return</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>results<span class="token punctuation">.</span>affectedRows <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;插入数据成功&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="_3-更新数据"><a href="#_3-更新数据" class="header-anchor">#</a> 3. 更新数据</h2> <p>可以通过如下方式，更新表中的数据：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span> username<span class="token operator">:</span> <span class="token string">&quot;aaa&quot;</span><span class="token punctuation">,</span> password<span class="token operator">:</span> <span class="token string">&quot;000&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 定义 SQL 语句</span>
<span class="token keyword">const</span> sqlStr <span class="token operator">=</span> <span class="token string">&quot;update users set username=?, password=? where id=?&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// 执行 SQL 语句</span>
db<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span>sqlStr<span class="token punctuation">,</span> <span class="token punctuation">[</span>user<span class="token punctuation">.</span>username<span class="token punctuation">,</span> user<span class="token punctuation">.</span>password<span class="token punctuation">,</span> user<span class="token punctuation">.</span>id<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> results</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">return</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 注意：执行了 update 语句之后，执行的结果，也是一个对象，可以通过 affectedRows 判断是否更新成功</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>results<span class="token punctuation">.</span>affectedRows <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;更新成功&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>更新数据的便捷方式:</p> <p>更新表数据时，如果数据对象的每个属性和数据表的字段一一对应，则可以通过如下方式快速更新表数据：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span> username<span class="token operator">:</span> <span class="token string">&quot;aaaa&quot;</span><span class="token punctuation">,</span> password<span class="token operator">:</span> <span class="token string">&quot;0000&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 定义 SQL 语句</span>
<span class="token keyword">const</span> sqlStr <span class="token operator">=</span> <span class="token string">&quot;update users set ? where id=?&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// 执行 SQL 语句</span>
db<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span>sqlStr<span class="token punctuation">,</span> <span class="token punctuation">[</span>user<span class="token punctuation">,</span> user<span class="token punctuation">.</span>id<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> results</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">return</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>results<span class="token punctuation">.</span>affectedRows <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;更新数据成功&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="_4-删除数据"><a href="#_4-删除数据" class="header-anchor">#</a> 4. 删除数据</h2> <p>在删除数据时，推荐根据 id 这样的唯一标识，来删除对应的数据。示例如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> sqlStr <span class="token operator">=</span> <span class="token string">&quot;delete from users where id=?&quot;</span><span class="token punctuation">;</span>
db<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span>sqlStr<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> results</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">return</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 注意：执行 delete 语句之后，结果也是一个对象，也会包含 affectedRows 属性</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>results<span class="token punctuation">.</span>affectedRows <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;删除数据成功&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="_5-标记删除"><a href="#_5-标记删除" class="header-anchor">#</a> 5. 标记删除</h2> <p>使用 DELETE 语句，会把真正的把数据从表中删除掉。为了保险起见，推荐使用标记删除的形式，来模拟删除的动作。
<strong>所谓的标记删除，就是在表中设置类似于 status 这样的状态字段，来标记当前这条数据是否被删除。</strong> <strong>当用户执行了删除的动作时，我们并没有执行 DELETE 语句把数据删除掉，而是执行了 UPDATE 语句，将这条数据对应 的 status 字段标记为删除即可。</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 标记删除</span>
<span class="token keyword">const</span> sqlStr <span class="token operator">=</span> <span class="token string">&quot;update users set status=? where id=?&quot;</span><span class="token punctuation">;</span>
db<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span>sqlStr<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> results</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">return</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>results<span class="token punctuation">.</span>affectedRows <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;标记删除成功&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">12/8/2021, 5:36:31 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/zz-web/study/NodeJs/day04/04.html" class="prev">
        NodeJs - day04
      </a></span> <span class="next"><a href="/zz-web/study/NodeJs/day06/06.html">
        NodeJs - day06
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/zz-web/assets/js/app.b1cdf2e6.js" defer></script><script src="/zz-web/assets/js/2.5013479a.js" defer></script><script src="/zz-web/assets/js/9.30b2ab4c.js" defer></script>
  </body>
</html>
